{"openapi":"3.1.0","info":{"title":"HMPPS Integration API","description":"A long-lived API that exposes data from HMPPS systems such as the National Offender Management Information System (NOMIS), nDelius (probation system) and Offender Assessment System (OASys), providing a single point of entry for consumers.","license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-integration-api/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"https://dev.integration-api.hmpps.service.justice.gov.uk","description":"Development server"},{"url":"https://preprod.integration-api.hmpps.service.justice.gov.uk","description":"Pre-production server, containing live data"},{"url":"https://integration-api.hmpps.service.justice.gov.uk","description":"Production"}],"security":[{"dn":[]}],"paths":{"/v1/visit/{visitReference}":{"get":{"tags":["Visits"],"summary":"Get visit information for a visit by visit reference.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getVisitInformationByReference","parameters":[{"name":"visitReference","in":"path","description":"The visit reference number relating to the visit.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found visit information for a given visit reference.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseVisit"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}},"put":{"tags":["Visits"],"summary":"Report the update of a visit in an external system.","description":"This API only validates the existence of the entities included. It does not perform any checking of the suitability of the visit. That responsibility is left to the client.<br><br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"putUpdateVisit","parameters":[{"name":"visitReference","in":"path","description":"The visit reference number relating to the visit.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVisitRequest"}}},"required":true},"responses":{"200":{"description":"Successfully wrote to visit queue.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsMessageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/expression-of-interest/jobs/{jobid}":{"put":{"tags":["Persons"],"summary":"Notify that a person has expressed an interest in a particular job.","operationId":"submitExpressionOfInterest","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"},"example":"A1234AA"},{"name":"jobid","in":"path","description":"A job identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully submitted an expression of interest","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnit"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}}}}},"/queue-admin/retry-dlq/{dlqName}":{"put":{"tags":["hmpps-queue-resource"],"operationId":"retryDlq","parameters":[{"name":"dlqName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetryDlqResult"}}}}}}},"/queue-admin/retry-all-dlqs":{"put":{"tags":["hmpps-queue-resource"],"operationId":"retryAllDlqs","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RetryDlqResult"}}}}}}}},"/queue-admin/purge-queue/{queueName}":{"put":{"tags":["hmpps-queue-resource"],"operationId":"purgeQueue","parameters":[{"name":"queueName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurgeQueueResult"}}}}}}},"/v1/visit":{"post":{"tags":["Visits"],"summary":"Report the creation of a visit in an external system.","description":"This API only validates the existence of the entities included. It does not perform any checking of the suitability of the visit. That responsibility is left to the client.<br><br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"postVisit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVisitRequest"}}},"required":true},"responses":{"200":{"description":"Successfully wrote to visit queue.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsMessageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/visit/{visitReference}/cancel":{"post":{"tags":["Visits"],"summary":"Report the cancellation of a visit in an external system.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"postCancelVisit","parameters":[{"name":"visitReference","in":"path","description":"The visit reference number relating to the visit.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelVisitRequest"}}},"required":true},"responses":{"200":{"description":"Successfully wrote to visit queue.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsMessageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/transactions":{"post":{"tags":["Prison","Finance"],"summary":"Make a financial transaction.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"postTransactions","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison that holds the account","required":true,"schema":{"type":"string"}},{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"}}},"required":true},"responses":{"200":{"description":"Successfully created a transaction.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseTransactionCreateResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionConflict"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/transactions/transfer":{"post":{"tags":["Prison","Finance"],"summary":"Transfer funds between the accounts of a prisoner.","description":"Currently only able to move from spends to savings.<br><br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"postTransactionsTransfer","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison that holds the account","required":true,"schema":{"type":"string"}},{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionTransferRequest"}}},"required":true},"responses":{"200":{"description":"Successfully created a transaction transfer.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseTransactionTransferCreateResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionConflict"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/location/{key}/deactivate":{"post":{"tags":["Prison","Residential Areas"],"summary":"Temporarily mark a location as inactive. The location must be a cell.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"deactivateLocation","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison the location is in","required":true,"schema":{"type":"string"}},{"name":"key","in":"path","description":"The key of the location, must be a cell","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeactivateLocationRequest"}}},"required":true},"responses":{"200":{"description":"Successfully posted to upstream APIs.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsMessageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/education/assessments/status":{"post":{"tags":["Education","Persons"],"summary":"Notify that a person has had a change in status to their Assessments in relation to their in-prison Education.","operationId":"notifyChangeOfEducationAssessmentsStatus","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS person identifier","required":true,"schema":{"type":"string"},"example":"A1234AA"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EducationAssessmentStatusChangeRequest"}}},"required":true},"responses":{"200":{"description":"Successful notification of change of Education Assessments status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseHmppsMessageResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}}}}},"/v1/visit/id/by-client-ref/{clientReference}":{"get":{"tags":["Visits"],"summary":"Get visit references from given client reference.","description":"<br><br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getVisitReferencesByClientReference","parameters":[{"name":"clientReference","in":"path","description":"The visit reference number relating to the visit.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found visit references for a given client reference.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseVisitReferences"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/visit/search":{"get":{"tags":["Prison","Visits"],"summary":"Searches for visits by prisonId and criteria.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getVisits","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}},{"name":"hmppsId","in":"query","description":"The HMPPS ID of the person","required":false,"schema":{"type":"string"}},{"name":"fromDate","in":"query","description":"The start date of the visit","required":false,"schema":{"type":"string"}},{"name":"toDate","in":"query","description":"The end date of the visit","required":false,"schema":{"type":"string"}},{"name":"visitStatus","in":"query","description":"The status of the visit. (BOOKED or CANCELLED)","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","description":"The page number","required":false,"schema":{"type":"string","minimum":1}},{"name":"size","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseVisit"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/residential-hierarchy":{"get":{"tags":["Prison","Residential Areas"],"summary":"Gets the residential hierarchy for a prison.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getResidentialHierarchy","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}},{"name":"includeInactive","in":"query","description":"Include temporarily inactive locations","required":false,"schema":{"type":"boolean","default":false,"description":"Include temporarily inactive locations","example":false},"example":false}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListResidentialHierarchyItem"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/residential-details":{"get":{"tags":["Prison","Residential Areas"],"summary":"Gets the residential details for a prison.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getResidentialDetails","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}},{"name":"parentPathHierarchy","in":"query","description":"Parent location path hierarchy, can be a Wing code, or landing code","required":false,"schema":{"type":"string"},"example":"A-1"}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseResidentialDetails"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/transactions/{clientUniqueRef}":{"get":{"tags":["Prison","Finance"],"summary":"Returns details for a transaction by clientUniqueRef.","description":"The clientUniqueRef will not be present on the response.<br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getTransactionsByClientUniqueRef","parameters":[{"name":"prisonId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}},{"name":"hmppsId","in":"path","description":"The ID of the prison that holds the account","required":true,"schema":{"type":"string"}},{"name":"clientUniqueRef","in":"path","description":"The clientUniqueRef used when the transaction was created","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a transaction.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseTransaction"}}}},"400":{"description":"The request data has an invalid format or the prisoner does not have transaction associated with the clientUniqueRef.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/non-associations":{"get":{"tags":["Prison","Visits"],"summary":"Returns a single prisoners list of non associates.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul> <br> includeOpen is true by default, includeClosed is false by default. At least one must be true.","operationId":"getPrisonersNonAssociates","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the prisoner","required":true,"schema":{"type":"string"}},{"name":"prisonId","in":"path","description":"The prison ID of the prisoner","required":true,"schema":{"type":"string"}},{"name":"includeOpen","in":"query","required":false,"schema":{"type":"boolean","default":true}},{"name":"includeClosed","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"Successfully found prisoner's non associates.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseNonAssociations"}}}},"400":{"description":"The HMPPS ID provided has an invalid format.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/balances":{"get":{"tags":["Prison","Finance","Reception"],"summary":"Returns all accounts for a prisoner that they have at a prison.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getBalancesForPerson","parameters":[{"name":"hmppsId","in":"path","required":true,"schema":{"type":"string"}},{"name":"prisonId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prisoner's accounts.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseBalances"}}}},"400":{"description":"The HMPPS ID provided has an invalid format or the prisoner does hot have accounts at the specified prison.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/accounts/{accountCode}/transactions":{"get":{"tags":["Prison","Finance"],"summary":"Returns all transactions for a prisoner associated with an account code that they have at a prison.","description":"The clientUniqueRef will only be present if it was specified by an API client.<br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getTransactionsByAccountCode","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}},{"name":"prisonId","in":"path","description":"The ID of the prison that holds the account","required":true,"schema":{"type":"string"}},{"name":"accountCode","in":"path","description":"The code of the account to be accessed, one of 'spends', 'savings' or 'cash'","required":true,"schema":{"type":"string"},"example":"spends"},{"name":"from_date","in":"query","description":"Start date for transactions (defaults to today if not supplied)","required":false,"schema":{"type":"string"}},{"name":"to_date","in":"query","description":"To date for transactions (defaults to today if not supplied)","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found a prisoner's transactions.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseTransaction"}}}},"400":{"description":"The request data has an invalid format or the prisoner does hot have transactions at the specified prison.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prisoners/{hmppsId}/accounts/{accountCode}/balances":{"get":{"tags":["Prison","Finance"],"summary":"Returns a specific account for a prisoner that they have at a prison, based on the account code provided.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getBalanceForPerson","parameters":[{"name":"hmppsId","in":"path","required":true,"schema":{"type":"string"}},{"name":"prisonId","in":"path","required":true,"schema":{"type":"string"}},{"name":"accountCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prisoner's account.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseBalance"}}}},"400":{"description":"The HMPPS ID provided has an invalid format, the account code is not one of the allowable accounts or the prisoner does hot have accounts at the specified prison.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prison-regime":{"get":{"tags":["Activities","Prison"],"summary":"Gets the prison regime for a prison.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisonRegime","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListPrisonRegime"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrisonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/prison-pay-bands":{"get":{"tags":["Activities","Prison"],"summary":"Gets the prison pay bands for a prison.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisonPayBands","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListPrisonPayBand"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrisonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/location/{key}":{"get":{"tags":["Prison","Residential Areas"],"summary":"Gets the location information for a prison location based on a key.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getLocationInformation","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}},{"name":"key","in":"path","description":"The key of the location to be queried against in the format of (PrisonId-locationKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseLocation"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/capacity":{"get":{"tags":["Prison","Residential Areas"],"summary":"Gets the capacity details for a prison.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getCapacityDetails","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePrisonCapacity"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/{prisonId}/activities":{"get":{"tags":["Activities"],"summary":"Returns all running prison activities given a prisonId","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisonActivities","parameters":[{"name":"prisonId","in":"path","description":"The ID of the prison to be queried against","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prison with the provided prison ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListRunningActivity"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrisonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/prisoners":{"get":{"tags":["Prison","Prisoners"],"summary":"Returns person(s) by search criteria, sorted by date of birth (newest first). Only queries prisoner search.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisoners","parameters":[{"name":"first_name","in":"query","description":"The first name of the person","required":false,"schema":{"type":"string"}},{"name":"last_name","in":"query","description":"The last name of the person","required":false,"schema":{"type":"string"}},{"name":"date_of_birth","in":"query","description":"The date of birth of the person","required":false,"schema":{"type":"string"}},{"name":"search_within_aliases","in":"query","description":"Whether to return results that match the search criteria within the aliases of a person.","required":false,"schema":{"type":"boolean","default":false}},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponsePersonInPrison"}}}},"400":{"description":"There were no query parameters passed in. At least one must be specified.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/prison/prisoners/{hmppsId}":{"get":{"tags":["Prison","Reception","Prisoners"],"summary":"Returns a single prisoners details given an hmppsId, does not query for a probation person.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPerson","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prisoner with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePersonInPrison"}}}},"400":{"description":"The HMPPS ID provided has an invalid format.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/pnd/persons/{hmppsId}/alerts":{"get":{"tags":["Persons","PND","Alerts"],"summary":"Returns alerts associated with a person, sorted by dateCreated (newest first).","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPndPersonAlerts","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"A1234AA"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found alerts for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseAlert"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons":{"get":{"tags":["Persons"],"summary":"Returns person(s) by search criteria, sorted by date of birth (newest first). At least one query parameter must be specified.","operationId":"getPersons","parameters":[{"name":"first_name","in":"query","description":"The first name of the person","required":false,"schema":{"type":"string"}},{"name":"last_name","in":"query","description":"The last name of the person","required":false,"schema":{"type":"string"}},{"name":"pnc_number","in":"query","description":"A URL-encoded pnc identifier","required":false,"schema":{"type":"string"}},{"name":"date_of_birth","in":"query","description":"The date of birth of the person","required":false,"schema":{"type":"string"}},{"name":"search_within_aliases","in":"query","description":"Whether to return results that match the search criteria within the aliases of a person.","required":false,"schema":{"type":"boolean","default":false}},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully performed the query on upstream APIs. An empty list is returned when no results are found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponsePerson"}}}},"400":{"description":"There were no query parameters passed in. At least one must be specified.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/visitor/{contactId}/restrictions":{"get":{"tags":["Persons","Visits"],"summary":"Get the restrictions for a visitor.","description":"Provides both the global restrictions for the visitor, as well as the restrictions for the relationship between the prisoner and visitor.","operationId":"getVisitorRestrictions","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}},{"name":"contactId","in":"path","description":"A contact ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a visitor's restrictions with the provided HMPPS ID and contact ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePrisonerContactRestrictions"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/visit/future":{"get":{"tags":["Persons","Visits","Reception"],"summary":"Get information about a prisoner's future visits.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getFutureVisits","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a person's future visits with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListVisit"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/visit-restrictions":{"get":{"tags":["Persons","Visits"],"summary":"Gets visit restrictions for a prisoner.","description":"Returns a prisoner's visit restrictions. Only returns the visit restrictions for the prisoner's most recent booking.","operationId":"getRestrictionsForPerson","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a person's visit restrictions with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListPersonVisitRestriction"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/visit-orders":{"get":{"tags":["Visits","Persons","Reception"],"summary":"Returns the number of remaining visit orders a prisoner has.","operationId":"getPrisonersVisitOrders","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the prisoner","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prisoner's visit orders.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseVisitOrders"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/sentences":{"get":{"tags":["Persons"],"summary":"Returns sentences associated with a person, sorted by dateOfSentencing (newest first).","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonSentences","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found sentences for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseSentence"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/risks/categories":{"get":{"tags":["Risks","Persons"],"summary":"Returns the categories related to an offender.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonRiskCategories","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found risk categories for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseRiskCategory"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/reported-adjudications":{"get":{"tags":["Persons","Reception"],"summary":"Returns adjudications associated with a person, sorted by dateTimeOfIncident (newest first).","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonAdjudications","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseAdjudication"}}}},"404":{"description":"Failed to find adjudications for the person with the provided hmppsId.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"400":{"description":"Malformed hmppsId.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/protected-characteristics":{"get":{"tags":["Persons","Reception"],"summary":"Returns protected characteristics of a person.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getProtectedCharacteristics","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"G2996UX"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePersonProtectedCharacteristics"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/plp-review-schedule":{"get":{"tags":["PLP","Persons"],"summary":"Returns the history of Learning and work progress (LWP/PLP) Review Schedules associated with a person.","operationId":"getReviewScheduleHistory","parameters":[{"name":"hmppsId","in":"path","description":"A HmppsId","required":true,"schema":{"type":"string"},"example":"A123123"},{"name":"statuses","in":"query","description":"Filter by review schedule statuses","required":false,"schema":{"type":"array","items":{"type":"string"}},"example":["COMPLETED","PENDING"]}],"responses":{"200":{"description":"Successfully found Review Schedule history for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseReviewSchedules"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/plp-induction-schedule":{"get":{"tags":["PLP","Persons"],"summary":"Returns the current Learning and work progress (LWP/PLP) Induction Schedule associated with a person.","operationId":"getInductionSchedule","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS id","required":true,"schema":{"type":"string"},"example":"A123123"}],"responses":{"200":{"description":"Successfully found Induction Schedule for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseInductionSchedule"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/plp-induction-schedule/history":{"get":{"tags":["PLP","Persons"],"summary":"Returns the history of changes to the Learning and work progress (LWP/PLP) Induction Schedule associated with a person.","operationId":"getInductionScheduleHistory","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS id","required":true,"schema":{"type":"string"},"example":"A123123"}],"responses":{"200":{"description":"Successfully found Induction Schedule history for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseInductionSchedules"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/physical-characteristics":{"get":{"tags":["Persons","Reception"],"summary":"Gets physical characteristics and distinguishing marks for a prisoner.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPhysicalCharacteristicsForPerson","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a person's physical characteristics with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePhysicalCharacteristics"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/person-responsible-officer":{"get":{"tags":["Persons"],"summary":"Returns the person responsible officer associated with a person.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonResponsibleOfficer","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found the person responsible officer for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePersonResponsibleOfficer"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/offences":{"get":{"tags":["Persons"],"summary":"\n      Returns offences associated with a person, ordered by startDate (newest first).\n      > Note: This API does not contain the complete list of offences for a person.\n      > Offences are retrieved from Prison and Probation systems exclusively.\n      > Prison systems record only custodial sentences, while Probation systems record only the main offence and some additional offences for case management purposes. Other offences recorded by HMCTS and police may not be included.\n    ","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonOffences","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"G2996UX"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found offences for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse"},"example":{"data":[{"serviceSource":"NOMIS","systemSource":"PRISON_SYSTEMS","cjsCode":"RR84170","courtDates":["2018-02-10","2019-02-10"],"courtName":"London Magistrates Court","description":"Commit an act / series of acts with intent to pervert the course of public justice","endDate":"2018-03-10","hoCode":3457,"startDate":"1965-12-01","statuteCode":"RR84"},{"serviceSource":"NDELIUS","systemSource":"PROBATION_SYSTEMS","cjsCode":"RR12345","courtDates":["2020-05-15","2021-05-15"],"courtName":"Manchester Crown Court","description":"Assault causing grievous bodily harm","endDate":"2020-06-20","hoCode":3458,"startDate":"2020-05-10","statuteCode":"RR85"}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/number-of-children":{"get":{"tags":["Persons","Reception"],"summary":"Returns a prisoner's number of children.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisonersNumberofChildren","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the prisoner","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prisoner's number of children.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseNumberOfChildren"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/name":{"get":{"tags":["Persons"],"summary":"Returns a person's name","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonName","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePersonName"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/languages":{"get":{"tags":["Persons","Reception"],"summary":"Gets languages for a prisoner.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getLanguagesForPerson","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a person's Language information with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListLanguage"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/images":{"get":{"tags":["Persons","Images","Reception"],"summary":"Returns metadata of images associated with a person sorted by captureDateTime (newest first).","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonImages","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"},"example":"A1234AA"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found a person with the provided HMPPS ID. If a person doesn't have any images, then an empty list (`[]`) is returned in the `data` property.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseImageMetadata"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/images/{id}":{"get":{"tags":["Persons","Images","Reception"],"summary":"Returns an image in bytes as a JPEG.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getImage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"hmppsId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found an image with the provided ID.","content":{"image/jpeg":{"schema":{"type":"string","format":"binary"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Failed to find an image with the provided ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/iep-level":{"get":{"tags":["Visits","Persons"],"summary":"Returns a prisoners IEP level.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisonersIEPLevel","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the prisoner","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a prisoner's IEP level.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseIEPLevel"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/health-and-diet":{"get":{"tags":["Persons","Reception"],"summary":"Returns Health And Diet information for a person. It should be noted this data could be incomplete and checks as to whether data is valid and up to date should be taken.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getHealthAndDiet","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a persons health and diet information.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHealthAndDiet"}}}},"400":{"description":"The HMPPS ID provided has an invalid format.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/contacts":{"get":{"tags":["Contacts","Visits","Persons","Reception"],"summary":"Returns a prisoners contacts.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPrisonersContacts","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the prisoner","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found a prisoner's contacts.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponsePrisonerContact"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/cell-location":{"get":{"tags":["Persons"],"summary":"Returns the cell location of a person.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonCellLocation","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a persons cell location.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseCellLocation"}}}},"400":{"description":"The HMPPS ID provided has an invalid format.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/case-notes":{"get":{"tags":["Persons"],"summary":"Returns case notes associated with a person.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getCaseNotesForPerson","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"G2996UX"},{"name":"startDate","in":"query","description":"Filter case notes from this date, required format RFC3339","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"endDate","in":"query","description":"Filter case notes up to this date, required format RFC3339","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"page","in":"query","description":"Page of the request, will default to 1 if not provided","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"perPage","in":"query","description":"Total results per page, will default to 10 if not provided","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Successfully found case notes for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseCaseNote"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/care-needs":{"get":{"tags":["Persons","Reception"],"summary":"Gets care needs for a prisoner.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getCareNeedsForPerson","parameters":[{"name":"hmppsId","in":"path","description":"A HMPPS identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found a person's care needs with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListPersonalCareNeed"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/alerts":{"get":{"tags":["Persons","Reception","Alerts"],"summary":"Returns alerts associated with a person, sorted by dateCreated (newest first).","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonAlerts","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"A1234AA"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found alerts for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseAlert"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{hmppsId}/alerts/pnd":{"get":{"tags":["Persons","PND","Alerts"],"summary":"Returns alerts associated with a person, sorted by dateCreated (newest first).","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonAlertsPND","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"A1234AA"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found alerts for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseAlert"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}},"deprecated":true}},"/v1/persons/{hmppsId}/addresses":{"get":{"tags":["Persons","Reception"],"summary":"Returns addresses associated with a person, ordered by startDate.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonAddresses","parameters":[{"name":"hmppsId","in":"path","description":"The HMPPS ID of the person","required":true,"schema":{"type":"string"},"example":"G2996UX"}],"responses":{"200":{"description":"Successfully found a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseListAddress"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}":{"get":{"tags":["Persons"],"summary":"Returns a person.","operationId":"getPerson_1","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"}],"responses":{"200":{"description":"Successfully found a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseOffenderSearchResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/status-information":{"get":{"tags":["Persons","Alerts"],"summary":"Returns the status information associated with a person.","operationId":"getStatusInformation","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found status information for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseStatusInformation"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/sentences/latest-key-dates-and-adjustments":{"get":{"tags":["Persons","Reception"],"summary":"Returns the key dates and adjustments about a person's release from prison for their latest sentence.","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getPersonLatestSentenceKeyDatesAndAdjustments","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"}],"responses":{"200":{"description":"Successfully found latest sentence key dates and adjustments for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseLatestSentenceKeyDatesAndAdjustments"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/risks/serious-harm":{"get":{"tags":["Risks","Persons"],"summary":"Returns Risk of Serious Harm (ROSH) risks associated with a person. Returns only assessments completed in the last year. This endpoint does not serve LAO (Limited Access Offender) data.","operationId":"getPersonRiskSeriousHarm","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"}],"responses":{"200":{"description":"Successfully found risks for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseRisks"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/risks/scores":{"get":{"tags":["Risks","Persons"],"summary":"Returns risk scores from the last year associated with a person, sorted by completedDate (newest first). This endpoint does not serve LAO (Limited Access Offender) data.","operationId":"getPersonRiskPredictorScores","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found risk scores for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseRiskPredictorScore"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/risks/mappadetail":{"get":{"tags":["Persons"],"summary":"Returns the mappa detail related to a person.","operationId":"getMappaDetail","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"}],"responses":{"200":{"description":"Successfully found mappa detail for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseMappaDetail"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/risks/dynamic":{"get":{"tags":["Persons","Alerts"],"summary":"Returns dynamic risks associated with a person.","operationId":"getDynamicRisks","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found dynamic risks for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseDynamicRisk"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/risk-management-plan":{"get":{"tags":["Risks","Persons"],"summary":"Returns a list of Risk Management Plans created for the person with the provided HMPPS ID.","operationId":"getRiskManagementPlans","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"},{"name":"page","in":"query","description":"The page number (starting from 1)","required":false,"schema":{"type":"string","minimum":1}},{"name":"perPage","in":"query","description":"The maximum number of results for a page","required":false,"schema":{"type":"string","minimum":1}}],"responses":{"200":{"description":"Successfully found risk management plans for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponseRiskManagementPlan"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/needs":{"get":{"tags":["Persons","Needs"],"summary":"\n      Returns criminogenic needs associated with a person. This endpoint does not serve LAO (Limited Access Offender) data.\n\n      Note: Criminogenic needs are dynamic factors that are directly linked to criminal behaviour. Eight criminogenic needs are measured in OASys: Accommodation, Employability, Relationships, Lifestyle and Associates, Drug Misuse, Alcohol Misuse, Thinking & Behaviour and Attitudes. These are scored according to whether there is no need, some need or severe need, and a need is identified in a specific section based on calculations around these scores.\n            However, the process by which needs are assessed is changing as early as next year (2024), specifically moving to a strength-based model that seeks to identify and develop the strengths of people with convictions. As a consequence of this, the information provided by this endpoint will also change.\n    ","operationId":"getPersonNeeds","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"}],"responses":{"200":{"description":"Successfully found criminogenic needs for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseNeeds"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/persons/{encodedHmppsId}/licences/conditions":{"get":{"tags":["Persons"],"summary":"Returns license conditions associated with a person, sorted by createdDateTime (newest first).","operationId":"getLicenceConditions","parameters":[{"name":"encodedHmppsId","in":"path","description":"A URL-encoded HMPPS identifier","required":true,"schema":{"type":"string"},"example":"2008%2F0545166T"}],"responses":{"200":{"description":"Successfully found licenses for a person with the provided HMPPS ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponsePersonLicences"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/images/{id}":{"get":{"tags":["Images","Reception"],"summary":"Returns an image in bytes as a JPEG.","operationId":"getImageById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Successfully found an image with the provided ID.","content":{"image/jpeg":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Failed to find an image with the provided ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/hmpps/reference-data":{"get":{"tags":["Reference Data"],"summary":"Returns probation and prison reference data codes descriptions for values returned by the API","operationId":"getReferenceData","responses":{"200":{"description":"Successfully returned prison and probation reference data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"},"example":{"data":{"prisonReferenceData":{"PHONE_TYPE":[{"code":"a","description":"desc_a"}],"ALERT_TYPE":[{"code":"a","description":"desc_a"}]},"probationReferenceData":{"PHONE_TYPE":[{"code":"a","description":"desc_a"}],"REGISTER_TYPE":[{"code":"a","description":"desc_a"}]}},"errors":[]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/hmpps/id/nomis-number/by-hmpps-id/{hmppsId}":{"get":{"tags":["HMPPS ID"],"summary":"Return nomis number for a given HMPPS ID","description":"Accepts a HMPPS ID (hmppsId) and looks up the corresponding nomis number.<br><b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getNomisNumberByHMPPSID","parameters":[{"name":"hmppsId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseNomisNumber"}}}},"404":{"description":"Nomis number could not be found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseNomisNumber"}}}},"400":{"description":"Invalid hmppsId.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseNomisNumber"}}}}}}},"/v1/hmpps/id/nomis-number/{nomisNumber}":{"get":{"tags":["HMPPS ID"],"summary":"Return a HMPPS ID for a given nomis number","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getHmppsIdByNomisNumber","parameters":[{"name":"nomisNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsId"}}}},"404":{"description":"Nomis number could not be found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsId"}}}},"400":{"description":"Invalid hmppsId.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsId"}}}}}}},"/v1/hmpps/id/by-nomis-number/{nomisNumber}":{"get":{"tags":["HMPPS ID"],"summary":"Return a HMPPS ID for a given nomis number","description":"<b>Applicable filters</b>: <ul><li>prisons</li></ul>","operationId":"getHmppsIdByNomisNumber_1","parameters":[{"name":"nomisNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsId"}}}},"404":{"description":"Nomis number could not be found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsId"}}}},"400":{"description":"Invalid hmppsId.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataResponseHmppsId"}}}}}}},"/v1/epf/person-details/{hmppsId}/{eventNumber}":{"get":{"tags":["EPF"],"summary":"Probation case information for the Effective Proposals Framework service","description":"Accepts an HMPPS Id (hmppsId) and Delius Event number\n      and returns a data structure giving background information on the probation case\n      for use in the Effective Proposals Framework system. The information is used to\n      reduce the need for the EPF user to re-key information already held in Delius.\n    ","operationId":"getCaseDetail","parameters":[{"name":"hmppsId","in":"path","required":true,"schema":{"type":"string"}},{"name":"eventNumber","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseCaseDetail"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/v1/contacts/{contactId}":{"get":{"tags":["Contacts","Visits"],"summary":"Returns a contact by ID.","operationId":"getContactById","parameters":[{"name":"contactId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully found contact by contact ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDetailedContact"}}}},"400":{"description":"The contact is in invalid format.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonNotFound"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalServerError"}}}}}}},"/queue-admin/get-dlq-messages/{dlqName}":{"get":{"tags":["hmpps-queue-resource"],"operationId":"getDlqMessages","parameters":[{"name":"dlqName","in":"path","required":true,"schema":{"type":"string"}},{"name":"maxMessages","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDlqResult"}}}}}}}},"components":{"schemas":{"UpdateVisitRequest":{"type":"object","description":"Update visit request","properties":{"visitRoom":{"type":"string","description":"Visit Room","example":"A1","minLength":1},"visitType":{"type":"string","description":"Visit Type","enum":["SOCIAL"],"example":"SOCIAL"},"visitRestriction":{"type":"string","description":"Visit Restriction","enum":["OPEN","CLOSED","UNKNOWN"],"example":"OPEN"},"startTimestamp":{"type":"string","format":"date-time","description":"The date and time of the visit","example":"2018-12-01T13:45:00"},"endTimestamp":{"type":"string","format":"date-time","description":"The finishing date and time of the visit","example":"2018-12-01T13:45:00"},"visitNotes":{"type":"array","description":"Visit Notes - only 1 note of each type is allowed","items":{"$ref":"#/components/schemas/VisitNotes"}},"visitContact":{"$ref":"#/components/schemas/VisitContact","description":"Contact associated with the visit"},"visitors":{"type":"array","description":"List of visitors associated with the visit","items":{"$ref":"#/components/schemas/Visitor"},"uniqueItems":true},"visitorSupport":{"$ref":"#/components/schemas/VisitorSupport","description":"Additional support associated with the visit"}},"required":["endTimestamp","startTimestamp","visitContact","visitNotes","visitRestriction","visitRoom","visitType"]},"VisitContact":{"type":"object","properties":{"name":{"type":"string","description":"Contact name","example":"John Smith","minLength":1},"telephone":{"type":"string","description":"Contact Phone Number","example":"01234 567890"},"email":{"type":"string","description":"Contact Email Address","example":"email@example.com"}},"required":["name"]},"VisitNotes":{"type":"object","properties":{"type":{"type":"string","description":"Note type","enum":["VISITOR_CONCERN","VISIT_OUTCOMES","VISIT_COMMENT","STATUS_CHANGED_REASON"],"example":"VISITOR_CONCERN","minLength":1},"text":{"type":"string","description":"Note Text","example":"Visitor is concerned that his mother in-law is coming!","minLength":1}},"required":["text","type"]},"Visitor":{"type":"object","properties":{"nomisPersonId":{"type":"integer","format":"int64","description":"Person ID (nomis) of the visitor","minimum":1},"visitContact":{"type":"boolean","description":"true if visitor is the contact for the visit otherwise false"}},"required":["nomisPersonId"]},"VisitorSupport":{"type":"object","properties":{"description":{"type":"string","description":"Support text description","example":"Visually impaired assistance","minLength":1}},"required":["description"]},"DataResponseHmppsMessageResponse":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/HmppsMessageResponse"}},"required":["data"]},"HmppsMessageResponse":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"ResponseUnit":{"type":"object","properties":{"errors":{"type":"array","items":{"$ref":"#/components/schemas/UpstreamApiError"}}},"required":["errors"]},"UpstreamApiError":{"type":"object","properties":{"causedBy":{"type":"string","enum":["PRISON_API","PRISONER_OFFENDER_SEARCH","NDELIUS","ASSESS_RISKS_AND_NEEDS","EFFECTIVE_PROPOSAL_FRAMEWORK","ADJUDICATIONS","CVL","CASE_NOTES","MANAGE_POM_CASE","RISK_MANAGEMENT_PLAN","TEST","PLP","NON_ASSOCIATIONS","PERSONAL_RELATIONSHIPS","MANAGE_PRISON_VISITS","INCENTIVES","PRISONER_ALERTS","LOCATIONS_INSIDE_PRISON","HEALTH_AND_MEDICATION","ACTIVITIES"]},"type":{"type":"string","enum":["ENTITY_NOT_FOUND","BAD_REQUEST","FORBIDDEN","INTERNAL_SERVER_ERROR","CONFLICT"]},"description":{"type":"string"}},"required":["causedBy","type"]},"RetryDlqResult":{"type":"object","properties":{"messagesFoundCount":{"type":"integer","format":"int32"}},"required":["messagesFoundCount"]},"PurgeQueueResult":{"type":"object","properties":{"messagesFoundCount":{"type":"integer","format":"int32"}},"required":["messagesFoundCount"]},"CreateVisitRequest":{"type":"object","description":"Create visit request","properties":{"prisonerId":{"type":"string","description":"Prisoner Id","example":"AF34567G","minLength":1},"prisonId":{"type":"string","description":"Prison Id","example":"3-character code, example = MDI","minLength":1},"clientVisitReference":{"type":"string","description":"Client visit reference","example":"Reference ID in the client system","minLength":1},"visitRoom":{"type":"string","description":"Visit Room","example":"A1","minLength":1},"visitType":{"type":"string","description":"Visit Type","enum":["SOCIAL"],"example":"SOCIAL"},"visitRestriction":{"type":"string","description":"Visit Restriction","enum":["OPEN","CLOSED","UNKNOWN"],"example":"OPEN"},"startTimestamp":{"type":"string","format":"date-time","description":"The date and time of the visit","example":"2018-12-01T13:45:00"},"endTimestamp":{"type":"string","format":"date-time","description":"The finishing date and time of the visit","example":"2018-12-01T13:45:00"},"visitNotes":{"type":"array","description":"Visit Notes - only 1 note of each type is allowed","items":{"$ref":"#/components/schemas/VisitNotes"}},"visitContact":{"$ref":"#/components/schemas/VisitContact","description":"Contact associated with the visit"},"createDateTime":{"type":"string","format":"date-time","description":"The date and time of when the visit was created in the client system","example":"2018-12-01T13:45:00"},"visitors":{"type":"array","description":"List of visitors associated with the visit","items":{"$ref":"#/components/schemas/Visitor"},"uniqueItems":true},"visitorSupport":{"$ref":"#/components/schemas/VisitorSupport","description":"Additional support associated with the visit"}},"required":["clientVisitReference","endTimestamp","prisonId","prisonerId","startTimestamp","visitContact","visitNotes","visitRestriction","visitRoom","visitType"]},"CancelOutcome":{"type":"object","properties":{"outcomeStatus":{"type":"string","description":"Outcome status","enum":["ADMINISTRATIVE_CANCELLATION","ADMINISTRATIVE_ERROR","BATCH_CANCELLATION","CANCELLATION","COMPLETED_NORMALLY","ESTABLISHMENT_CANCELLED","NOT_RECORDED","NO_VISITING_ORDER","PRISONER_CANCELLED","PRISONER_COMPLETED_EARLY","PRISONER_REFUSED_TO_ATTEND","TERMINATED_BY_STAFF","VISITOR_CANCELLED","VISITOR_COMPLETED_EARLY","VISITOR_DECLINED_ENTRY","VISITOR_DID_NOT_ARRIVE","VISITOR_FAILED_SECURITY_CHECKS","VISIT_ORDER_CANCELLED","SUPERSEDED_CANCELLATION","DETAILS_CHANGED_AFTER_BOOKING","BOOKER_CANCELLED"]},"text":{"type":"string","description":"Outcome description"}},"required":["outcomeStatus"]},"CancelVisitRequest":{"type":"object","description":"Cancel visit request","properties":{"cancelOutcome":{"$ref":"#/components/schemas/CancelOutcome","description":"Outcome status and description"},"userType":{"type":"string","description":"Type of user cancelling the visit","enum":["PRISONER"],"example":"PRISONER"},"actionedBy":{"type":"string","description":"Username for user who actioned this request"}},"required":["cancelOutcome","userType"]},"TransactionRequest":{"type":"object","properties":{"type":{"type":"string","description":"Transaction type. Determines which accounts will be debited and credited.","example":"CANT","minLength":1},"description":{"type":"string","description":"Description of the transaction.","example":"Canteen Purchase of 16.34"},"amount":{"type":"integer","format":"int32","description":"Amount of money in pence, must be positive. Whether the transaction is a credit or debit is determined by the type.","example":1234},"clientTransactionId":{"type":"string","description":"Client Transaction ID.","example":"CL123212","minLength":1},"clientUniqueRef":{"type":"string","description":"A reference unique to the client making the post. Maximum size 64 characters, only alphabetic, numeric, '-' and '_' are allowed.","example":"CLIENT121131-0_11","minLength":1}},"required":["amount","clientTransactionId","clientUniqueRef","type"]},"DataResponseTransactionCreateResponse":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/TransactionCreateResponse"}},"required":["data"]},"TransactionCreateResponse":{"type":"object","properties":{"transactionId":{"type":"string"}},"required":["transactionId"]},"TransactionTransferRequest":{"type":"object","properties":{"description":{"type":"string","description":"Description of the transaction.","minLength":1},"amount":{"type":"integer","format":"int32","description":"Amount of money in pence, must be positive.","example":1234},"clientTransactionId":{"type":"string","description":"Client Transaction Id.","minLength":1},"clientUniqueRef":{"type":"string","description":"A reference unique to the client making the post. Maximum size 64 characters, only alphabetic, numeric, '-' and '_' are allowed.","minLength":1},"fromAccount":{"type":"string","description":"The account to move money from. Must be 'spends'.","example":"spends","minLength":1},"toAccount":{"type":"string","description":"The account to move money to. Must be 'savings'.","example":"savings","minLength":1}},"required":["amount","clientTransactionId","clientUniqueRef","description","fromAccount","toAccount"]},"DataResponseTransactionTransferCreateResponse":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/TransactionTransferCreateResponse"}},"required":["data"]},"TransactionTransferCreateResponse":{"type":"object","properties":{"debitTransactionId":{"type":"string","description":"Transaction id for the debit portion of the transaction."},"creditTransactionId":{"type":"string","description":"Transaction id for the credit portion of the transaction."},"transactionId":{"type":"string","description":"Transaction id for the whole transaction."}},"required":["creditTransactionId","debitTransactionId","transactionId"]},"DeactivateLocationRequest":{"type":"object","description":"Deactivate location request","properties":{"deactivationReason":{"type":"string","description":"Reason for temporary deactivation","enum":["DAMAGED","DAMP","MAINTENANCE","MOTHBALLED","PEST","REFURBISHMENT","SECURITY_SEALED","STAFF_SHORTAGE","OTHER"],"example":"MOTHBALLED"},"deactivationReasonDescription":{"type":"string","description":"Additional information on deactivation, for OTHER DeactivatedReason must be provided","example":"Window broken","maxLength":255,"minLength":0},"proposedReactivationDate":{"type":"string","format":"date","description":"Estimated reactivation date","example":"2025-01-05"},"externalReference":{"type":"string","description":"External reference"}},"required":["deactivationReason"]},"EducationAssessmentStatusChangeRequest":{"type":"object","properties":{"status":{"type":"string","description":"The current status of the Assessments","enum":["ALL_RELEVANT_ASSESSMENTS_COMPLETE"],"example":"ALL_RELEVANT_ASSESSMENTS_COMPLETE"},"statusChangeDate":{"type":"string","format":"date","description":"The ISO-8601 formatted date that the status changed.","example":"2025-04-17"},"detailUrl":{"type":"string","format":"url","description":"The URL of where to get the person's current Education Assessments","example":"https://example.com/sequation-virtual-campus2-api/learnerAssessments/v2/A1234AB"},"requestId":{"type":"string","description":"A unique request identifier generated by the consumer to allow for tracing requests through the various systems. The format is to be defined by the consumer but a UUID is suggested.","example":"0650ba37-a977-4fbe-9000-4715aaecadba","minLength":1}},"required":["requestId","status","statusChangeDate"]},"ResponseHmppsMessageResponse":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/HmppsMessageResponse"},"errors":{"type":"array","items":{"$ref":"#/components/schemas/UpstreamApiError"}}},"required":["data","errors"]},"DataResponseVisit":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Visit"}},"required":["data"]},"Visit":{"type":"object","properties":{"applicationReference":{"type":"string","description":"Application Reference","example":"dfs-wjs-eqr"},"reference":{"type":"string","description":"Visit Reference","example":"v9-d7-ed-7u"},"prisonerId":{"type":"string","description":"Prisoner Id","example":"AF34567G"},"prisonId":{"type":"string","description":"Prison Id","example":"MDI"},"prisonName":{"type":"string","description":"Prison Name","example":"Moorland (HMP & YOI)"},"sessionTemplateReference":{"type":"string","description":"Session Template Reference","example":"v9d.7ed.7u"},"visitRoom":{"type":"string","description":"Location of Visit ","example":"Visits Main Hall"},"visitType":{"type":"string","description":"Type of Visit","example":"SOCIAL"},"visitStatus":{"type":"string","description":"Visit Status","example":"BOOKED"},"outcomeStatus":{"type":"string","description":"Outcome Status of Visit","example":"ADMINISTRATIVE_CANCELLATION"},"visitRestriction":{"type":"string","description":"Visit Restriction","example":"OPEN"},"startTimestamp":{"type":"string","description":"The date and time of the visit"},"endTimestamp":{"type":"string","description":"The finishing date and time of the visit"},"visitNotes":{"type":"array","description":"Visit Notes","items":{"$ref":"#/components/schemas/VisitNotes"}},"visitContact":{"$ref":"#/components/schemas/VisitContact","description":"Contact associated with the visit"},"visitors":{"type":"array","description":"List of visitors associated with the visit","items":{"$ref":"#/components/schemas/Visitors"}},"visitorSupport":{"$ref":"#/components/schemas/VisitorSupport","description":"Additional support associated with the visit"},"visitExternalSystemDetails":{"$ref":"#/components/schemas/VisitExternalSystemDetails","description":"External system details associated with the visit"},"createdTimestamp":{"type":"string","description":"The visit created date and time"},"modifiedTimestamp":{"type":"string","description":"The visit modified date and time"},"firstBookedDateTime":{"type":"string","description":"Date the visit was first booked or migrated"}},"required":["createdTimestamp","endTimestamp","modifiedTimestamp","prisonId","prisonerId","startTimestamp","visitNotes","visitRestriction","visitRoom","visitStatus","visitType","visitors"]},"VisitExternalSystemDetails":{"type":"object","properties":{"clientName":{"type":"string","description":"Client name","example":"client_name"},"clientVisitReference":{"type":"string","description":"Client visit reference","example":"Reference ID in the client system"}}},"Visitors":{"type":"object","properties":{"contactId":{"type":"integer","format":"int64","description":"Person ID (nomis) of the visitor","example":1234},"visitContact":{"type":"boolean","description":"true if visitor is the contact for the visit otherwise false","example":true}},"required":["contactId"]},"DataResponseVisitReferences":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/VisitReferences"}},"required":["data"]},"VisitReferences":{"type":"object","properties":{"visitReferences":{"type":"array","description":"List of Visit References","example":["dfs-wjs-eqr","abc-123-def"],"items":{"type":"string"}}},"required":["visitReferences"]},"PaginatedResponseVisit":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Visit"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"Pagination":{"type":"object","properties":{"isLastPage":{"type":"boolean","description":"Is the current page the last one?","example":true},"count":{"type":"integer","format":"int32","description":"The number of results in `data` for the current page","example":1},"page":{"type":"integer","format":"int32","description":"The current page number","example":1},"perPage":{"type":"integer","format":"int32","description":"The maximum number of results in `data` for a page","example":10},"totalCount":{"type":"integer","format":"int64","description":"The total number of results in `data` across all pages","example":1},"totalPages":{"type":"integer","format":"int32","description":"The total number of pages","example":1}},"required":["count","isLastPage","page","perPage","totalCount","totalPages"]},"DataResponseListResidentialHierarchyItem":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ResidentialHierarchyItem"}}},"required":["data"]},"ResidentialHierarchyItem":{"type":"object","properties":{"locationId":{"type":"string","description":"Location ID","example":"2475f250-434a-4257-afe7-b911f1773a4d"},"locationType":{"type":"string","description":"Location type","example":"CELL"},"locationCode":{"type":"string","description":"Location code","example":"001"},"fullLocationPath":{"type":"string","description":"Full path of the location within the prison"},"localName":{"type":"string","description":"Alternative description to display for location, (Not Cells)","example":"Wing A"},"level":{"type":"integer","format":"int32","description":"Current Level within hierarchy, starts at 1, e.g Wing = 1","examples":["1","2","3"]},"subLocations":{"description":"Sub residential locations"}},"required":["fullLocationPath","level","locationCode","locationId","locationType"]},"DataResponseResidentialDetails":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/ResidentialDetails"}},"required":["data"]},"Location":{"type":"object","properties":{"key":{"type":"string","description":"Business Key for a location","example":"MDI"},"code":{"type":"string","description":"Location Code","example":"001"},"pathHierarchy":{"type":"string","description":"Full path of the location within the prison","example":"A-1-001"},"locationType":{"type":"string","description":"Location Type","example":"CELL"},"localName":{"type":"string","description":"Alternative description to display for location, (Not Cells)","example":"Wing A"},"comments":{"type":"string","description":"Additional comments that can be made about this location","example":"Not to be used"},"capacity":{"$ref":"#/components/schemas/LocationCapacity","description":"Capacity details of the location"},"oldWorkingCapacity":{"type":"integer","format":"int32","description":"When a cell is inactive, show the active working capacity value"},"certification":{"$ref":"#/components/schemas/LocationCertification","description":"Indicates that this location is certified for use as a residential location"},"usage":{"type":"array","description":"Non Residential Usage","items":{"$ref":"#/components/schemas/LocationUsageItem"}},"accommodationTypes":{"type":"array","description":"Accommodation Types","example":"CARE_AND_SEPARATION","examples":["CARE_AND_SEPARATION","HEALTHCARE_INPATIENTS","NORMAL_ACCOMMODATION","OTHER_NON_RESIDENTIAL"],"items":{"type":"string"}},"specialistCellTypes":{"type":"array","description":"Specialist Cell Types","example":"ACCESSIBLE_CELL","examples":["ACCESSIBLE_CELL","BIOHAZARD_DIRTY_PROTEST","CSU","CAT_A","CONSTANT_SUPERVISION","DRY","ESCAPE_LIST","ISOLATION_DISEASES","LISTENER_CRISIS","LOCATE_FLAT_CELL","MEDICAL","MOTHER_AND_BABY","SAFE_CELL","UNFURNISHED"],"items":{"type":"string"}},"usedFor":{"type":"array","description":"Used For","example":"CLOSE_SUPERVISION_CENTRE","examples":["CLOSE_SUPERVISION_CENTRE","SUB_MISUSE_DRUG_RECOVERY","FIRST_NIGHT_CENTRE","HIGH_SECURITY","IPP_LONG_TERM_SENTENCES","MOTHER_AND_BABY","OPEN_UNIT","PATHWAY_TO_PROG","PERINATAL_UNIT","PERSONALITY_DISORDER","PIPE","REMAND","SEPARATION_CENTRE","STANDARD_ACCOMMODATION","THERAPEUTIC_COMMUNITY","VULNERABLE_PRISONERS","YOUNG_PERSONS"],"items":{"type":"string"}},"status":{"type":"string","description":"Status of the location","example":"ACTIVE","examples":["ACTIVE","INACTIVE","NON_RESIDENTIAL","ARCHIVED"]},"convertedCellType":{"type":"string","description":"Converted Cell Type","example":"HOLDING_ROOM","examples":["HOLDING_ROOM","INTERVIEW_ROOM","KITCHEN_SERVERY","LISTENERS_ROOM","OFFICE","SHOWER","STAFF_ROOM","STORE","TREATMENT_ROOM","UTILITY_ROOM","OTHER"]},"otherConvertedCellType":{"type":"string","description":"Convert Cell Type (Other)"},"active":{"type":"boolean","description":"Indicates the location is enabled","example":true},"deactivatedByParent":{"type":"boolean","description":"Indicates the location in inactive as a parent is deactivated","example":false},"deactivatedDate":{"type":"string","description":"Date the location was deactivated","example":"2023-01-23T12:23:00"},"deactivatedReason":{"type":"string","description":"Reason for deactivation","example":"DAMAGED","examples":["DAMAGED","DAMP","MAINTENANCE","MOTHBALLED","PEST","REFURBISHMENT","SECURITY_SEALED","STAFF_SHORTAGE","OTHER"]},"deactivationReasonDescription":{"type":"string","description":"For OTHER deactivation reason, a free text comment is provided","example":"Window damaged"},"deactivatedBy":{"type":"string","description":"Staff username who deactivated the location"},"proposedReactivationDate":{"type":"string","description":"Estimated reactivation date for location reactivation","example":"2026-01-24"},"externalReference":{"type":"string","description":"External reference"},"level":{"type":"integer","format":"int32","description":"Current Level within hierarchy, starts at 1, e.g Wing = 1","example":1,"examples":["1","2","3"]},"parentLocationKey":{"type":"string","description":"Business Key for the parent location","example":"MDI"},"inactiveCells":{"type":"integer","format":"int32","description":"Number of inactive cells below this location"},"numberOfCellLocations":{"type":"integer","format":"int32","description":"Total number of non-structural locations are below this level, e.g. cells and rooms"},"isResidential":{"type":"boolean","description":"Indicates if the location is a residential location","example":true}},"required":["active","code","deactivatedByParent","isResidential","key","level","locationType","pathHierarchy"]},"LocationCapacity":{"type":"object","properties":{"maxCapacity":{"type":"integer","format":"int32","description":"Max capacity of the location","example":2},"workingCapacity":{"type":"integer","format":"int32","description":"Working capacity of the location","example":2}},"required":["maxCapacity","workingCapacity"]},"LocationCertification":{"type":"object","properties":{"certified":{"type":"boolean","description":"Indicates that this location is certified for use as a residential location","example":true},"capacityOfCertifiedCell":{"type":"integer","format":"int32","description":"Indicates the capacity of the certified location (cell)","example":1}},"required":["capacityOfCertifiedCell","certified"]},"LocationUsageItem":{"type":"object","properties":{"usageType":{"type":"string","description":"Usage Type","example":"ADJUDICATION_HEARING","examples":["ADJUDICATION_HEARING","APPOINTMENT","MOVEMENT","OCCURRENCE","PROGRAMMES_ACTIVITIES","PROPERTY","VISIT","OTHER"]},"capacity":{"type":"integer","format":"int32","description":"Capacity"},"sequence":{"type":"integer","format":"int32","description":"Sequence"}},"required":["sequence","usageType"]},"ResidentialDetails":{"type":"object","properties":{"topLevelLocationType":{"type":"string","description":"The top level type of locations","example":"Wings"},"subLocationName":{"type":"string","description":"The description of the type of sub locations most common","example":"Wings","examples":["Wings","Landings","Spurs","Cells"]},"parentLocation":{"$ref":"#/components/schemas/Location","description":"The current parent location (e.g Wing or Landing) details"},"subLocations":{"type":"array","description":"All residential locations under this parent","items":{"$ref":"#/components/schemas/Location"}}},"required":["subLocations","topLevelLocationType"]},"DataResponseTransaction":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Transaction"}},"required":["data"]},"Transaction":{"type":"object","properties":{"id":{"type":"string"},"type":{"$ref":"#/components/schemas/Type"},"description":{"type":"string"},"amount":{"type":"integer","format":"int32"},"date":{"type":"string"},"clientUniqueRef":{"type":"string"}},"required":["amount","date","description","id","type"]},"Type":{"type":"object","properties":{"code":{"type":"string"},"desc":{"type":"string"}},"required":["code","desc"]},"DataResponseNonAssociations":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/NonAssociations"}},"required":["data"]},"NonAssociation":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"The ID of the non association"},"role":{"type":"string","description":"The prisoner's role code in the non-association","example":"VICTIM"},"roleDescription":{"type":"string","description":"The description of the prisoner's role in the non-association","example":"Victim"},"reason":{"type":"string","description":"The reason code why these prisoners should be kept apart","example":"BULLYING"},"reasonDescription":{"type":"string","description":"The reason description why these prisoners should be kept apart","example":"Bullying"},"restrictionType":{"type":"string","description":"Location-based restriction code","example":"CELL"},"restrictionTypeDescription":{"type":"string","description":"Location-based restriction description","example":"Cell only"},"comment":{"type":"string","description":"Explanation of why prisoners are non-associated","example":"John and Luke always end up fighting"},"authorisedBy":{"type":"string","description":"User ID of the person who created the non-association.","example":"OFF3_GEN"},"whenCreated":{"type":"string","description":"When the non-association was created","example":"2021-12-31T12:34:56.789012"},"whenUpdated":{"type":"string","description":"When the non-association was last updated","example":"2021-12-31T12:34:56.789012"},"updatedBy":{"type":"string","description":"User ID of the person who last updated the non-association"},"isClosed":{"type":"boolean","description":"Whether the non-association is closed or is in effect"},"closedBy":{"type":"string","description":"User ID of the person who closed the non-association. Only present when the non-association is closed, null for open non-associations"},"closedReason":{"type":"string","description":"Reason why the non-association was closed. Only present when the non-association is closed, null for open non-associations"},"closedAt":{"type":"string","description":"Date and time of when the non-association was closed. Only present when the non-association is closed, null for open non-associations"},"otherPrisonerDetails":{"$ref":"#/components/schemas/NonAssociationPrisonerDetails","description":"Details about the other person in the non-association."},"isOpen":{"type":"boolean","description":"Whether the non-association is open or closed"}},"required":["authorisedBy","comment","id","isClosed","isOpen","otherPrisonerDetails","reason","reasonDescription","restrictionType","restrictionTypeDescription","role","roleDescription","updatedBy","whenCreated","whenUpdated"]},"NonAssociationPrisonerDetails":{"type":"object","properties":{"prisonerNumber":{"type":"string","description":"Prisoner number","example":"D5678EF"},"role":{"type":"string","description":"Other prisoners role code in the non-association","example":"VICTIM"},"roleDescription":{"type":"string","description":"Other prisoners role description in the non-association"},"firstName":{"type":"string","description":"First name","example":"John"},"lastName":{"type":"string","description":"Last name","example":"Smith"},"prisonId":{"type":"string","description":"ID of the prison","example":"MDI"},"prisonName":{"type":"string","description":"Name of the prison","example":"Moorland"},"cellLocation":{"type":"string","description":"Cell the prisoner is assigned to","example":"B-2-007"}},"required":["cellLocation","firstName","lastName","prisonId","prisonName","prisonerNumber","role","roleDescription"]},"NonAssociations":{"type":"object","properties":{"nonAssociations":{"type":"array","description":"List of non-associations","items":{"$ref":"#/components/schemas/NonAssociation"}}},"required":["nonAssociations"]},"AccountBalance":{"type":"object","properties":{"accountCode":{"type":"string"},"amount":{"type":"integer","format":"int32"}},"required":["accountCode","amount"]},"Balances":{"type":"object","properties":{"balances":{"type":"array","items":{"$ref":"#/components/schemas/AccountBalance"}}},"required":["balances"]},"DataResponseBalances":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Balances"}},"required":["data"]},"PaginatedResponseTransaction":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"Balance":{"type":"object","properties":{"balance":{"$ref":"#/components/schemas/AccountBalance"}},"required":["balance"]},"DataResponseBalance":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Balance"}},"required":["data"]},"DataResponseListPrisonRegime":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PrisonRegime"}}},"required":["data"]},"PrisonRegime":{"type":"object","properties":{"amStart":{"type":"string","description":"The start time for the am slot","example":"09:00"},"amFinish":{"type":"string","description":"The end time for the am slot","example":"12:00"},"pmStart":{"type":"string","description":"The start time for the pm slot","example":"13:00"},"pmFinish":{"type":"string","description":"The end time for the pm slot","example":"17:00"},"edStart":{"type":"string","description":"The start time for the ed slot","example":"18:00"},"edFinish":{"type":"string","description":"The end time for the ed slot","example":"21:00"},"dayOfWeek":{"type":"string","description":"The day of week the regime is applicable to","enum":["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"],"example":"MONDAY"}},"required":["amFinish","amStart","dayOfWeek","edFinish","edStart","pmFinish","pmStart"]},"DataResponseListPrisonPayBand":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PrisonPayBand"}}},"required":["data"]},"PrisonPayBand":{"type":"object","properties":{"id":{"type":"integer","format":"int64","description":"The internally-generated ID for this prison pay band","example":123456},"alias":{"type":"string","description":"The alternative text to use in place of the description","examples":["Low","Medium","High"]},"description":{"type":"string","description":"The description of pay band in this prison","example":"Pay band 1"}},"required":["alias","description","id"]},"DataResponseLocation":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Location"}},"required":["data"]},"DataResponsePrisonCapacity":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PrisonCapacity"}},"required":["data"]},"PrisonCapacity":{"type":"object","properties":{"maxCapacity":{"type":"integer","format":"int32","description":"Max capacity of the location","example":1000},"signedCapacity":{"type":"integer","format":"int32","description":"Signed capacity of the location","example":1000},"workingCapacity":{"type":"integer","format":"int32","description":"Working capacity of the location","example":1000}},"required":["maxCapacity","signedCapacity","workingCapacity"]},"ActivityCategory":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}},"required":["code","name"]},"DataResponseListRunningActivity":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RunningActivity"}}},"required":["data"]},"RunningActivity":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"activityName":{"type":"string"},"category":{"$ref":"#/components/schemas/ActivityCategory"},"capacity":{"type":"integer","format":"int32"},"allocated":{"type":"integer","format":"int32"},"waitlisted":{"type":"integer","format":"int32"},"activityState":{"type":"string"}},"required":["activityState","allocated","capacity","category","id","waitlisted"]},"Alias":{"type":"object","properties":{"firstName":{"type":"string","description":"first name","example":"John"},"lastName":{"type":"string","description":"last name","example":"Marston"},"middleName":{"type":"string","description":"last name","example":"Marston"},"dateOfBirth":{"type":"string","format":"date","description":"date of birth","example":"1965-12-01"},"gender":{"type":"string","description":"gender","example":"Male"},"ethnicity":{"type":"string","description":"ethnicity","example":"Prefer not to say"}},"required":["firstName","lastName"]},"Identifiers":{"type":"object","description":"Other unique identifiers for a person.","properties":{"nomisNumber":{"type":"string","description":"A prisoner identifier from NOMIS.","example":"A1234AA"},"croNumber":{"type":"string","description":"A Criminal Records Office identifier from National Identification Service (NIS) or National Automated Fingerprint Identification System (NAFIS).","example":"SF80/655108T"},"deliusCrn":{"type":"string","description":"A Case Reference Number from Delius.","example":"X00001"}}},"PaginatedResponsePersonInPrison":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PersonInPrison"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"PersonInPrison":{"type":"object","properties":{"firstName":{"type":"string","description":"First name","example":"John"},"lastName":{"type":"string","description":"Last name","example":"Morgan"},"middleName":{"type":"string","description":"Middle name","example":"John"},"dateOfBirth":{"type":"string","format":"date","description":"Date of birth","example":"1965-12-01"},"gender":{"type":"string","description":"Gender","example":"Male"},"ethnicity":{"type":"string","description":"Ethnicity","example":"White: Eng./Welsh/Scot./N.Irish/British"},"aliases":{"type":"array","items":{"$ref":"#/components/schemas/Alias"}},"identifiers":{"$ref":"#/components/schemas/Identifiers"},"pncId":{"type":"string","description":"An identifier from the Police National Computer (PNC)"},"category":{"type":"string","description":"Category","example":"C"},"csra":{"type":"string","description":"Cell sharing risk assessment","example":"HIGH"},"receptionDate":{"type":"string","description":"Date prisoner was received into the prison","example":"2021-12-01"},"status":{"type":"string","description":"Status of the prisoner","example":"ACTIVE IN"},"prisonId":{"type":"string","description":"Prison ID","example":"MDI"},"prisonName":{"type":"string","description":"Name of the prison","example":"HMP Leeds"},"cellLocation":{"type":"string","description":"In prison cell location","example":"A-1-002"},"youthOffender":{"type":"boolean","description":"Is the prisoner a youth offender","example":false}},"required":["aliases","firstName","identifiers","lastName","youthOffender"]},"DataResponsePersonInPrison":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PersonInPrison"}},"required":["data"]},"Alert":{"type":"object","properties":{"offenderNo":{"type":"string","description":"Offender unique reference","example":"Z1234ZZ"},"type":{"type":"string","description":"Alert type","example":"X"},"typeDescription":{"type":"string","description":"Alert type description","example":"Security"},"code":{"type":"string","description":"Alert code","example":"PO"},"codeDescription":{"type":"string","description":"Alert code description","example":"MAPPA Nominal"},"comment":{"type":"string","description":"Alert comment","example":"Professional lock pick"},"dateCreated":{"type":"string","format":"date","description":"Date of the alert, which might differ from the date it was created","example":"2014-09-23"},"dateExpired":{"type":"string","format":"date","description":"Date that the alert expires","example":"2015-09-23"},"expired":{"type":"boolean","description":"Whether the alert has expired","example":true},"active":{"type":"boolean","description":"Whether the alert is active","example":false}}},"PaginatedResponseAlert":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Alert"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"ContactDetailsWithEmailAndPhone":{"type":"object","properties":{"phoneNumbers":{"type":"array","items":{"$ref":"#/components/schemas/PhoneNumber"}},"emails":{"type":"array","description":"A list of email addresses","example":"leslie.knope@example.com","items":{"type":"string"}}}},"PaginatedResponsePerson":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Person"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"Person":{"type":"object","properties":{"firstName":{"type":"string","description":"First name","example":"John"},"lastName":{"type":"string","description":"Last name","example":"Morgan"},"middleName":{"type":"string","description":"Middle name","example":"John"},"dateOfBirth":{"type":"string","format":"date","description":"Date of birth","example":"1965-12-01"},"gender":{"type":"string","description":"Gender","example":"Male"},"ethnicity":{"type":"string","description":"Ethnicity","example":"White: Eng./Welsh/Scot./N.Irish/British"},"aliases":{"type":"array","items":{"$ref":"#/components/schemas/Alias"}},"identifiers":{"$ref":"#/components/schemas/Identifiers"},"pncId":{"type":"string","description":"An identifier from the Police National Computer (PNC)"},"hmppsId":{"type":"string","description":"HMPPS identifier","example":"2008/0545166T"},"contactDetails":{"$ref":"#/components/schemas/ContactDetailsWithEmailAndPhone"},"currentRestriction":{"type":"boolean"},"restrictionMessage":{"type":"string"},"currentExclusion":{"type":"boolean"},"exclusionMessage":{"type":"string"}},"required":["aliases","firstName","identifiers","lastName"]},"PhoneNumber":{"type":"object","properties":{"number":{"type":"string","description":"A phone number","example":"079123456789"},"type":{"type":"string","description":"The type of number","example":"TELEPHONE"}}},"ContactRestriction":{"type":"object","properties":{"restrictionType":{"type":"string","description":"The restriction code","examples":["CC","BAN","CHILD","CLOSED","RESTRICTED","DIHCON","NONCON"]},"restrictionTypeDescription":{"type":"string","description":"The description of the restriction type","example":"Banned"},"startDate":{"type":"string","description":"Restriction created date","example":"2024-01-01"},"expiryDate":{"type":"string","description":"Restriction expiry date","example":"2024-01-01"},"comments":{"type":"string","description":"Comments for the restriction","example":"N/A"},"enteredByUsername":{"type":"string","description":"The username of either the person who created the restriction or the last person to update it if it has been modified","example":"admin"},"enteredByDisplayName":{"type":"string","description":"The display name of either the person who created the restriction or the last person to update it if it has been modified","example":"John Smith"},"createdBy":{"type":"string","description":"User who created the entry","example":"admin"},"createdTime":{"type":"string","description":"Timestamp when the entry was created","example":"2023-09-23T10:15:30"},"updatedBy":{"type":"string","description":"User who updated the entry","example":"admin"},"updatedTime":{"type":"string","description":"Timestamp when the entry was updated","example":"2023-09-23T10:15:30"}},"required":["comments","createdBy","createdTime","enteredByDisplayName","enteredByUsername","expiryDate","restrictionType","restrictionTypeDescription","startDate","updatedBy","updatedTime"]},"DataResponsePrisonerContactRestrictions":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PrisonerContactRestrictions"}},"required":["data"]},"PrisonerContactRestrictions":{"type":"object","properties":{"prisonerContactRestrictions":{"type":"array","description":"Relationship specific restrictions","items":{"$ref":"#/components/schemas/ContactRestriction"}},"contactGlobalRestrictions":{"type":"array","description":"Global (estate-wide) restrictions for the contact","items":{"$ref":"#/components/schemas/ContactRestriction"}}},"required":["contactGlobalRestrictions","prisonerContactRestrictions"]},"DataResponseListVisit":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Visit"}}},"required":["data"]},"DataResponseListPersonVisitRestriction":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PersonVisitRestriction"}}},"required":["data"]},"PersonVisitRestriction":{"type":"object","properties":{"restrictionId":{"type":"integer","format":"int64","description":"Restriction ID"},"comment":{"type":"string","description":"Restriction comment text"},"restrictionType":{"type":"string","description":"Code of restriction type","examples":["ACC","BAN","CCTV","CHILD"]},"restrictionTypeDescription":{"type":"string","description":"Description of restriction type","examples":["Access Requirements","Banned","CCTV","Child Visitors to be Vetted"]},"startDate":{"type":"string","description":"Date from which the restrictions applies","example":"1980-01-01"},"expiryDate":{"type":"string","description":"Date restriction applies to, or indefinitely if null","example":"1980-01-01"},"active":{"type":"boolean","description":"True if restriction is within the start date and optional expiry date range"}},"required":["active","comment","restrictionId","restrictionType","restrictionTypeDescription","startDate"]},"DataResponseVisitOrders":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/VisitOrders"}},"required":["data"]},"VisitOrders":{"type":"object","properties":{"remainingVisitOrders":{"type":"integer","format":"int64","description":"The prisoners remaining visit orders","example":123456},"remainingPrivilegeVisitOrders":{"type":"integer","format":"int64","description":"The prisoners remaining privilege visit orders","example":123456}},"required":["remainingPrivilegeVisitOrders","remainingVisitOrders"]},"PaginatedResponseSentence":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Sentence"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"Sentence":{"type":"object","properties":{"serviceSource":{"type":"string","description":"\n      Which upstream API service the sentence originates from. Possible values are:\n      `PRISON_API`,\n      `NDELIUS`\n    ","enum":["PRISON_API","NDELIUS"],"example":"PRISON_API"},"systemSource":{"type":"string","description":"\n      Which upstream API system the sentence originates from. Possible values are:\n      `PRISON_SYSTEMS`,\n      `PROBATION_SYSTEMS`\n    ","enum":["PRISON_SYSTEMS","PROBATION_SYSTEMS"],"example":"PROBATION_SYSTEMS"},"dateOfSentencing":{"type":"string","format":"date","description":"Date of sentencing","example":"2009-09-09"},"description":{"type":"string","description":"Description of the sentence","example":"Young Offender Inst - >=12 mths"},"isActive":{"type":"boolean","description":"Whether the sentence is active","example":true},"isCustodial":{"type":"boolean","description":"Whether the sentence is custodial","example":true},"fineAmount":{"type":"number","description":"The amount of fine related to the sentence and offence","example":480.59},"length":{"$ref":"#/components/schemas/SentenceLength"}},"required":["isCustodial","length","serviceSource","systemSource"]},"SentenceLength":{"type":"object","properties":{"duration":{"type":"integer","format":"int32","description":"Duration of the sentence","example":10},"units":{"type":"string","description":"\n      Time unit that is used in combination with the duration field. Possible values are:\n      `Hours`,\n      `Days`,\n      `Weeks`,\n      `Months`,\n      `Years`\n    ","enum":["Hours","Days","Weeks","Months","Years"],"example":"Hours"},"terms":{"type":"array","items":{"$ref":"#/components/schemas/SentenceTerm"}}},"required":["terms"]},"SentenceTerm":{"type":"object","properties":{"years":{"type":"integer","format":"int32","description":"Number of years in the term","example":5},"months":{"type":"integer","format":"int32","description":"Number of months in the term","example":4},"weeks":{"type":"integer","format":"int32","description":"Number of weeks in the term","example":3},"days":{"type":"integer","format":"int32","description":"Number of days in the term","example":2},"hours":{"type":"integer","format":"int32","description":"Number of hours in the term","example":1},"prisonTermCode":{"type":"string","description":"\n      The sentence term code\n      Possible values are:\n      `CUR` - Curfew Period,\n      `DEF` - Deferment Period,\n      `DET` - Detention,\n      `HOURS` - Hours Ordered,\n      `IMP` - Imprisonment,\n      `LIC` - Licence,\n      `PSYCH` - Psychiatric Hospital,\n      `SCUS` - Custodial Period,\n      `SEC104` - Breach of supervision requirements,\n      `SEC105` - Breach due to imprisonable offence,\n      `SEC86` - Section 86 of 2000 Act,\n      `SUP` - Sentence Length,\n      `SUSP` - Suspension Period\n    ","enum":["CUR","DEF","DET","HOURS","IMP","LIC","PSYCH","SCUS","SEC104","SEC105","SEC86","SUP","SUSP"],"example":"IMP"}}},"DataResponseRiskCategory":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/RiskCategory"}},"required":["data"]},"RiskAssessment":{"type":"object","properties":{"classificationCode":{"type":"string","description":"The classification code of the risk","example":"C"},"classification":{"type":"string","description":"The classification of the code","example":"Cat C"},"assessmentCode":{"type":"string","description":"The assessment code","example":"CATEGORY"},"assessmentDescription":{"type":"string","description":"The description of the assessment","example":"Categorisation"},"assessmentDate":{"type":"string","description":"The date of the assessment","example":"2018-02-11"},"nextReviewDate":{"type":"string","description":"Next review date","example":"2018-02-11"},"assessmentAgencyId":{"type":"string","description":"Agency ID of the assessment","example":"MDI"},"assessmentStatus":{"type":"string","description":"The status of the assessment","example":"P"},"assessmentComment":{"type":"string","description":"Comments regarding the assessment","example":"Comment details"}}},"RiskCategory":{"type":"object","properties":{"offenderNo":{"type":"string"},"assessments":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessment"}},"category":{"type":"string"},"categoryCode":{"type":"string"}},"required":["assessments"]},"Adjudication":{"type":"object","properties":{"incidentDetails":{"$ref":"#/components/schemas/IncidentDetailsDto"},"isYouthOffender":{"type":"boolean"},"incidentRole":{"$ref":"#/components/schemas/IncidentRoleDto"},"offenceDetails":{"$ref":"#/components/schemas/OffenceDto"},"status":{"type":"string"},"statusReason":{"type":"string"},"statusDetails":{"type":"string"},"hearings":{"type":"array","items":{"$ref":"#/components/schemas/HearingDto"}},"outcomes":{"type":"array","items":{"$ref":"#/components/schemas/OutcomeHistoryDto"}},"punishments":{"type":"array","items":{"$ref":"#/components/schemas/PunishmentDto"}},"punishmentComments":{"type":"array","items":{"$ref":"#/components/schemas/PunishmentCommentDto"}}}},"CombinedOutcomeDto":{"type":"object","properties":{"outcome":{"$ref":"#/components/schemas/OutcomeDto"},"referralOutcome":{"$ref":"#/components/schemas/OutcomeDto"}}},"HearingDto":{"type":"object","properties":{"dateTimeOfHearing":{"type":"string"},"oicHearingType":{"type":"string"},"outcome":{"$ref":"#/components/schemas/HearingOutcomeDto"}}},"HearingOutcomeDto":{"type":"object","properties":{"code":{"type":"string"},"reason":{"type":"string"},"details":{"type":"string"},"plea":{"type":"string"}}},"IncidentDetailsDto":{"type":"object","properties":{"dateTimeOfIncident":{"type":"string"}}},"IncidentRoleDto":{"type":"object","properties":{"roleCode":{"type":"string"},"offenceRule":{"$ref":"#/components/schemas/OffenceRuleDetailsDto"}}},"OffenceDto":{"type":"object","properties":{"offenceCode":{"type":"number"},"offenceRule":{"$ref":"#/components/schemas/OffenceRuleDto"}}},"OffenceRuleDetailsDto":{"type":"object","properties":{"paragraphNumber":{"type":"string"},"paragraphDescription":{"type":"string"}}},"OffenceRuleDto":{"type":"object","properties":{"paragraphNumber":{"type":"string"},"paragraphDescription":{"type":"string"}}},"OutcomeDto":{"type":"object","properties":{"code":{"type":"string"},"details":{"type":"string"},"reason":{"type":"string"},"quashedReason":{"type":"string"},"canRemove":{"type":"boolean"}}},"OutcomeHistoryDto":{"type":"object","properties":{"hearing":{"$ref":"#/components/schemas/HearingDto"},"outcome":{"$ref":"#/components/schemas/CombinedOutcomeDto"}}},"PaginatedResponseAdjudication":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Adjudication"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"PunishmentCommentDto":{"type":"object","properties":{"comment":{"type":"string"},"reasonForChange":{"type":"string"},"dateTime":{"type":"string"}}},"PunishmentDto":{"type":"object","properties":{"type":{"type":"string"},"privilegeType":{"type":"string"},"otherPrivilege":{"type":"string"},"schedule":{"$ref":"#/components/schemas/PunishmentScheduleDto"}}},"PunishmentScheduleDto":{"type":"object","properties":{"days":{"type":"number"},"startDate":{"type":"string"},"endDate":{"type":"string"},"suspendedUntil":{"type":"string"}}},"DataResponsePersonProtectedCharacteristics":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PersonProtectedCharacteristics"}},"required":["data"]},"Disability":{"type":"object","properties":{"disabilityType":{"$ref":"#/components/schemas/KeyValue"},"condition":{"$ref":"#/components/schemas/KeyValue"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"notes":{"type":"string","example":"Walking issue"}}},"KeyValue":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"}}},"PersonProtectedCharacteristics":{"type":"object","properties":{"age":{"type":"number","description":"Age of the person","example":35},"gender":{"type":"string","description":"Gender of the person","example":"Female"},"sexualOrientation":{"type":"string","description":"Sexual orientation of the person","example":"Unknown"},"ethnicity":{"type":"string","description":"Ethnicity of the person","example":"White: Eng./Welsh/Scot./N.Irish/British"},"nationality":{"type":"string","description":"Nationality of the person","example":"Egyptian"},"religion":{"type":"string","description":"Religion of the person","example":"Church of England (Anglican)"},"disabilities":{"type":"array","items":{"$ref":"#/components/schemas/Disability"}},"maritalStatus":{"type":"string","description":"Marital status of the person","example":"Widowed"},"reasonableAdjustments":{"type":"array","items":{"$ref":"#/components/schemas/ReasonableAdjustment"}}},"required":["age","disabilities","reasonableAdjustments"]},"ReasonableAdjustment":{"type":"object","properties":{"treatmentCode":{"type":"string","description":"Treatment code","example":"WHEELCHR_ACC"},"commentText":{"type":"string","description":"Comment text","example":"abcd"},"startDate":{"type":"string","format":"date","description":"Start date","example":"2013-04-11"},"endDate":{"type":"string","format":"date","description":"End date","example":"2023-04-11"},"treatmentDescription":{"type":"string","description":"Treatment description","example":"Wheelchair accessibility"}}},"DataResponseReviewSchedules":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/ReviewSchedules"}},"required":["data"]},"ReviewSchedule":{"type":"object","properties":{"nomisNumber":{"type":"string","description":"The Nomis number of the person.","example":"A1234BC"},"reference":{"type":"string","format":"uuid","description":"The UUID reference for the review schedule record."},"reviewDateFrom":{"type":"string","format":"date","description":"The earliest date that the review should be carried out."},"reviewDateTo":{"type":"string","format":"date","description":"The latest date that the review should be carried out."},"status":{"type":"string","description":"\n      The status of this review schedule possible values are:\n        SCHEDULED\n        EXEMPT_PRISONER_DRUG_OR_ALCOHOL_DEPENDENCY\n        EXEMPT_PRISONER_OTHER_HEALTH_ISSUES\n        EXEMPT_PRISONER_FAILED_TO_ENGAGE\n        EXEMPT_PRISONER_ESCAPED_OR_ABSCONDED\n        EXEMPT_PRISONER_SAFETY_ISSUES\n        EXEMPT_PRISON_REGIME_CIRCUMSTANCES\n        EXEMPT_PRISON_STAFF_REDEPLOYMENT\n        EXEMPT_PRISON_OPERATION_OR_SECURITY_ISSUE\n        EXEMPT_SECURITY_ISSUE_RISK_TO_STAFF\n        EXEMPT_SYSTEM_TECHNICAL_ISSUE\n        EXEMPT_PRISONER_TRANSFER\n        EXEMPT_PRISONER_RELEASE\n        EXEMPT_PRISONER_DEATH\n        EXEMPT_PRISONER_MERGE\n        EXEMPT_UNKNOWN\n        COMPLETED\n      "},"calculationRule":{"type":"string","description":"\n      The calculation rule that was used to workout the review schedule window.\n      Possible values are:\n          PRISONER_READMISSION\n          PRISONER_TRANSFER\n          BETWEEN_RELEASE_AND_3_MONTHS_TO_SERVE\n          BETWEEN_3_MONTHS_AND_3_MONTHS_7_DAYS_TO_SERVE\n          BETWEEN_3_MONTHS_8_DAYS_AND_6_MONTHS_TO_SERVE\n          BETWEEN_6_AND_12_MONTHS_TO_SERVE\n          BETWEEN_12_AND_60_MONTHS_TO_SERVE\n          MORE_THAN_60_MONTHS_TO_SERVE\n          INDETERMINATE_SENTENCE\n          PRISONER_ON_REMAND\n          PRISONER_UN_SENTENCED\n      "},"createdBy":{"type":"string"},"createdByDisplayName":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"createdAtPrison":{"type":"string"},"updatedBy":{"type":"string"},"updatedByDisplayName":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"},"updatedAtPrison":{"type":"string"},"version":{"type":"integer","format":"int32","description":"\n      The review schedule can change status numerous times.\n      The version number indicates which version of the review schedule this one is, the higher the number the newer the update.\n      use the version number in conjunction with the reference UUID.\n      ie if you group the schedules by reference then the version numbers represent different versions of the same schedule.\n      The final status of each grouping is COMPLETED.\n    "},"reviewCompletedBy":{"type":"string","description":"When the review schedule has a completed review this will be populated by the name of the person who did the review."},"reviewCompletedByRole":{"type":"string","description":"When the review schedule has a completed review this will be populated by the role of the person who did the review."},"reviewCompletedAt":{"type":"string","format":"date","description":"When the review schedule has a completed review this will be populated with the date that the CIAG entered into the system when completing the Review. It is the date that the user did the Review in person, rather than the date that it was entered into the system.."},"reviewType":{"type":"string","description":"\n      When the review schedule has a completed review this will be populated with the type of the review.\n      values are:\n        REGULAR,\n        PRE_RELEASE\n    "},"reviewReason":{"type":"string","description":"\n      When the review schedule has a completed review this will be populated with the reason for the review.\n      values are:\n        REOFFENCE,\n        TRANSFER,\n        REGULAR\n    "}},"required":["calculationRule","createdAt","createdAtPrison","createdBy","createdByDisplayName","reference","reviewDateFrom","reviewDateTo","status","updatedAt","updatedAtPrison","updatedBy","updatedByDisplayName","version"]},"ReviewSchedules":{"type":"object","properties":{"reviewSchedules":{"type":"array","description":"\n       A list of review schedules for this prisoner.\n       Note that this will return multiple versions of the the same schedule.\n       This is because down stream clients need to know the previous states of the review schedules.\n       grouping by reference and then ordering by highest version number will present the review schedules with the most up to date data.\n    ","items":{"$ref":"#/components/schemas/ReviewSchedule"}}},"required":["reviewSchedules"]},"DataResponseInductionSchedule":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/InductionSchedule"}},"required":["data"]},"InductionSchedule":{"type":"object","properties":{"deadlineDate":{"type":"string","format":"date","description":"An ISO-8601 date representing when the Induction should be completed by.","example":"2023-09-01"},"status":{"type":"string","description":"\n      The current status of the Induction Schedule.\n      list of values:\n          SCHEDULED\n          COMPLETED\n          EXEMPT_PRISONER_DRUG_OR_ALCOHOL_DEPENDENCY\n          EXEMPT_PRISONER_OTHER_HEALTH_ISSUES\n          EXEMPT_PRISONER_FAILED_TO_ENGAGE\n          EXEMPT_PRISONER_ESCAPED_OR_ABSCONDED\n          EXEMPT_PRISONER_SAFETY_ISSUES\n          EXEMPT_PRISON_REGIME_CIRCUMSTANCES\n          EXEMPT_PRISON_STAFF_REDEPLOYMENT\n          EXEMPT_PRISON_OPERATION_OR_SECURITY_ISSUE\n          EXEMPT_SECURITY_ISSUE_RISK_TO_STAFF\n          EXEMPT_SYSTEM_TECHNICAL_ISSUE\n          EXEMPT_PRISONER_TRANSFER\n          EXEMPT_PRISONER_RELEASE\n          EXEMPT_PRISONER_DEATH\n          EXEMPT_SCREENING_AND_ASSESSMENT_IN_PROGRESS\n          EXEMPT_SCREENING_AND_ASSESSMENT_INCOMPLETE\n          EXEMPT_PRISONER_MERGE\n    ","example":"SCHEDULED"},"calculationRule":{"type":"string","description":"\n        The Induction Schedule rule used to determine deadline date.\n        list of values are:\n          NEW_PRISON_ADMISSION\n          EXISTING_PRISONER_LESS_THAN_6_MONTHS_TO_SERVE\n          EXISTING_PRISONER_BETWEEN_6_AND_12_MONTHS_TO_SERVE\n          EXISTING_PRISONER_BETWEEN_12_AND_60_MONTHS_TO_SERVE\n          EXISTING_PRISONER_INDETERMINATE_SENTENCE\n          EXISTING_PRISONER_ON_REMAND\n          EXISTING_PRISONER_UN_SENTENCED\n    ","example":"NEW_PRISON_ADMISSION"},"nomisNumber":{"type":"string","description":"The Nomis number of the person.","example":"A1234BC"},"systemCreatedBy":{"type":"string","description":"The name of the person who used the PLP system to create the Induction Schedule, or 'system' for system generated updates.","example":"John Smith"},"systemCreatedAt":{"type":"string","format":"date-time","description":"An ISO-8601 timestamp representing the time the PLP system was used to create the Induction Schedule.","example":"2023-06-19T09:39:44Z"},"systemCreatedAtPrison":{"type":"string","description":"The code of the prison where the induction was Created","example":"BXI"},"systemUpdatedBy":{"type":"string","description":"\n      The name of the person who performed the Induction with the prisoner.\n      In the case of system generated updates or setting an exemption this field will not be present.\n    ","example":"Fred Jones"},"systemUpdatedAt":{"type":"string","format":"date-time","description":"An ISO-8601 timestamp representing the time the PLP system was used to update the Induction Schedule.","example":"2023-06-19T09:39:44Z"},"systemUpdatedAtPrison":{"type":"string","description":"The code of the prison where the induction was updated","example":"BXI"},"inductionPerformedBy":{"type":"string","description":"\n      The name of the person who performed the Induction with the prisoner.\n      In the case of system generated updates or setting an exemption this field will not be present.\n    ","example":"Fred Jones"},"inductionPerformedAt":{"type":"string","format":"date","description":"\n      When the induction schedule has a completed induction this will be populated with the date that the CIAG entered into the system when completing the Induction. It is the date that the user did the Induction in person, rather than the date that it was entered into the system.\n    ","example":"2023-06-30"},"inductionPerformedByRole":{"type":"string","description":"\n      The role of the person who performed the Induction with the prisoner.\n      In the case of system generated updates or setting an exemption this field will not be present.\n    ","example":"Peer Mentor"},"inductionPerformedAtPrison":{"type":"string","description":"The prison code that the induction was performed at.","example":"BXI"},"exemptionReason":{"type":"string","description":"If reason the induction schedule was exempted.","example":"EXEMPT_SYSTEM_TECHNICAL_ISSUE"},"version":{"type":"integer","format":"int32","description":"\n      The induction schedule can change status numerous times.\n      When looking at the plp-induction-schedule/history of the inductions.\n      The version number indicates which version of the induction schedule this one is,\n      the higher the number the newer the update.\n    "}}},"DataResponseInductionSchedules":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/InductionSchedules"}},"required":["data"]},"InductionSchedules":{"type":"object","properties":{"inductionSchedules":{"type":"array","description":"\n       A list of induction schedule versions for this prisoner.\n       The prisoner will only have one induction schedule but for various reasons the schedule can be updated.\n       This list will show each change the schedule has been through. This allows for reports to be generated.\n    ","items":{"$ref":"#/components/schemas/InductionSchedule"}}},"required":["inductionSchedules"]},"BodyMark":{"type":"object","properties":{"bodyPart":{"type":"string"},"comment":{"type":"string"}}},"DataResponsePhysicalCharacteristics":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PhysicalCharacteristics"}},"required":["data"]},"PhysicalCharacteristics":{"type":"object","properties":{"heightCentimetres":{"type":"integer","format":"int32"},"weightKilograms":{"type":"integer","format":"int32"},"hairColour":{"type":"string"},"rightEyeColour":{"type":"string"},"leftEyeColour":{"type":"string"},"facialHair":{"type":"string"},"shapeOfFace":{"type":"string"},"build":{"type":"string"},"shoeSize":{"type":"integer","format":"int32"},"tattoos":{"type":"array","items":{"$ref":"#/components/schemas/BodyMark"}},"scars":{"type":"array","items":{"$ref":"#/components/schemas/BodyMark"}},"marks":{"type":"array","items":{"$ref":"#/components/schemas/BodyMark"}}}},"CommunityOffenderManager":{"type":"object","properties":{"name":{"$ref":"#/components/schemas/PersonResponsibleOfficerName"},"email":{"type":"string"},"telephoneNumber":{"type":"string"},"team":{"$ref":"#/components/schemas/PersonResponsibleOfficerTeam"}},"required":["name","team"]},"DataResponsePersonResponsibleOfficer":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PersonResponsibleOfficer"}},"required":["data"]},"PersonResponsibleOfficer":{"type":"object","properties":{"prisonOffenderManager":{"$ref":"#/components/schemas/PrisonOffenderManager"},"communityOffenderManager":{"$ref":"#/components/schemas/CommunityOffenderManager"}}},"PersonResponsibleOfficerName":{"type":"object","properties":{"forename":{"type":"string"},"surname":{"type":"string"}}},"PersonResponsibleOfficerTeam":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"},"email":{"type":"string"},"telephoneNumber":{"type":"string"}}},"Prison":{"type":"object","properties":{"code":{"type":"string","description":"The prison code, which is usually short for the prison name."}}},"PrisonOffenderManager":{"type":"object","properties":{"forename":{"type":"string"},"surname":{"type":"string"},"prison":{"$ref":"#/components/schemas/Prison"}},"required":["prison"]},"PaginatedResponse":{"type":"object","properties":{"data":{"type":"array","items":{}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"DataResponseNumberOfChildren":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/NumberOfChildren"}},"required":["data"]},"NumberOfChildren":{"type":"object","properties":{"numberOfChildren":{"type":"string","description":"Number of children","example":2}}},"DataResponsePersonName":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PersonName"}},"required":["data"]},"PersonName":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}}},"DataResponseListLanguage":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Language"}}},"required":["data"]},"Language":{"type":"object","properties":{"type":{"type":"string","description":"Type of language (e.g., primary, secondary)","example":"PRIM"},"code":{"type":"string","description":"Language code (e.g., ENG for English)","example":"ENG"},"readSkill":{"type":"string","description":"Read skill level (e.g., Y for yes, N for no)","example":"Y"},"writeSkill":{"type":"string","description":"Write skill level (e.g., Y for yes, N for no)","example":"Y"},"speakSkill":{"type":"string","description":"Speak skill level (e.g., Y for yes, N for no)","example":"Y"},"interpreterRequested":{"type":"boolean","description":"Interpreter requested","example":true}}},"ImageMetadata":{"type":"object","properties":{"id":{"type":"integer","format":"int64","description":"The Image ID, in reference to a unique identifier.","example":2461788},"active":{"type":"boolean","description":"A flag to indicate whether an image is in active use. It is no guarantee that the latest uploaded image will be the active one.","example":true},"captureDateTime":{"type":"string","format":"date-time","description":"The Date and Time of when the image was captured.","example":"2015-05-27T17:13:59"},"view":{"type":"string","description":"\n      View is the subject focus; describing the inner focus or subject of the image, normally referring to a marking, tattoo or deeper level focus of the orientation. In practise this is the interior foci of what is captured in the 'orientation' field.\n      Possible values are:\n      `FACE` - Facing,\n      `TAT` - Tattoo,\n      `OTH` - Other,\n      `SCAR` - Scar,\n      `MARK` - Mark,\n      `OIC` - Offence in Custody\n    ","enum":["FACE","TAT","OTH","SCAR","MARK","OIC"],"example":"FACE"},"orientation":{"type":"string","description":"\n      Orientation is the scope focus; describing the scope or outer focus of the image, normally referring to the highest level object of interest within the bounds of the photo itself. This is normally a body part or an angle of photography, such as a photo of someones facial view (`FRONT`) or arm (`ARM`).\n      Possible values are:\n      `ANKLE` - Ankle,\n      `ARM` - Arm,\n      `DAMAGE` - Damage,\n      `EAR` - Ear,\n      `ELBOW` - Elbow,\n      `FACE` - Face,\n      `FIGHT` - Fight,\n      `FINGER` - Finger,\n      `FOOT` - Foot,\n      `FRONT` - Front Facial View,\n      `HAND` - Hand,\n      `HEAD` - Head,\n      `INCIDENT` - Incident,\n      `INJURY` - Injury,\n      `KNEE` - Knee,\n      `LEG` - Leg,\n      `LIP` - Lip,\n      `NECK` - Neck,\n      `NOSE` - Nose,\n      `SHOULDER` - Shoulder,\n      `THIGH` - Thigh,\n      `TOE` - Toe,\n      `TORSO` - Torso\n    ","enum":["ANKLE","ARM","DAMAGE","EAR","ELBOW","FACE","FIGHT","FINGER","FOOT","FRONT","HAND","HEAD","INCIDENT","INJURY","KNEE","LEG","LIP","NECK","NOSE","SHOULDER","THIGH","TOE","TORSO"],"example":"FRONT"},"type":{"type":"string","description":"\n      Type is the contextual focus; describing the context or scenario the image was taken within. It could be for a particular purpose or capturing the results of a particular type of incident.\n      Possible values are:\n      `OFF_BKG` - Offender Booking,\n      `OFF_IDM` - Offender Identification Marks,\n      `OIC` - Offence In Custody,\n      `PPTY` - Property Image\n    ","enum":["OFF_BKG","OFF_IDM","OIC","PPTY"],"example":"OFF_BKG"}},"required":["active","captureDateTime","id","orientation","type","view"]},"PaginatedResponseImageMetadata":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ImageMetadata"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"DataResponseIEPLevel":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/IEPLevel"}},"required":["data"]},"IEPLevel":{"type":"object","properties":{"iepCode":{"type":"string","description":"Incentive Level Code","example":"STD"},"iepLevel":{"type":"string","description":"Incentive Level","example":"Standard"}},"required":["iepCode","iepLevel"]},"CateringInstruction":{"type":"object","properties":{"value":{"type":"string","description":"Catering instructions relating to the prisoner.","example":"catering instruction."}}},"DataResponseHealthAndDiet":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/HealthAndDiet"}},"required":["data"]},"Diet":{"type":"object","properties":{"foodAllergies":{"type":"array","description":"List of food allergies for a prisoner.","items":{"$ref":"#/components/schemas/FoodAllergy"}},"medicalDietaryRequirements":{"type":"array","description":"List of medical dietary requirements for a prisoner.","items":{"$ref":"#/components/schemas/MedicalDietaryRequirement"}},"personalisedDietaryRequirements":{"type":"array","description":"List of personalised dietary requirements for a prisoner.","items":{"$ref":"#/components/schemas/PersonalisedDietaryRequirement"}},"cateringInstructions":{"$ref":"#/components/schemas/CateringInstruction","description":"Catering instructions for a prisoner."}},"required":["cateringInstructions","foodAllergies","medicalDietaryRequirements","personalisedDietaryRequirements"]},"FoodAllergy":{"type":"object","properties":{"id":{"type":"string","description":"ID of the allergy.","example":"FOOD_ALLERGY_MILK"},"code":{"type":"string","description":"Code of the allergy.","example":"MILK"},"description":{"type":"string","description":"Description of the allergy.","example":"Milk"},"comment":{"type":"string","description":"Any other comments relating to the allergy.","example":"Will need oat milk instead."}},"required":["code","description","id"]},"HealthAndDiet":{"type":"object","properties":{"diet":{"$ref":"#/components/schemas/Diet","description":"Diet information for a prisoner, specifically relating to any allergies or dietary requirements."},"smoking":{"type":"string","description":"Details of whether a prisoner smokes or vapes.","example":"Y= Yes, N=No, V=Vapes"}}},"MedicalDietaryRequirement":{"type":"object","properties":{"id":{"type":"string","description":"ID of the dietary requirement.","example":"FOOD_ALLERGY_MILK"},"code":{"type":"string","description":"Code of the dietary requirement.","example":"MILK"},"description":{"type":"string","description":"Description of the dietary requirement.","example":"Milk"},"comment":{"type":"string","description":"Any other comments relating to the dietary requirement.","example":"Will need oat milk instead."}},"required":["code","description","id"]},"PersonalisedDietaryRequirement":{"type":"object","properties":{"id":{"type":"string","description":"ID of the dietary requirement.","example":"FOOD_ALLERGY_MILK"},"code":{"type":"string","description":"Code of the dietary requirement.","example":"MILK"},"description":{"type":"string","description":"Description of the dietary requirement.","example":"Milk"},"comment":{"type":"string","description":"Any other comments relating to the dietary requirement.","example":"Will need oat milk instead."}},"required":["code","description","id"]},"Contact":{"type":"object","properties":{"contactId":{"type":"integer","format":"int64","description":"The ID of the contact","example":123456},"lastName":{"type":"string","description":"The last name of the contact","example":"Doe"},"firstName":{"type":"string","description":"The first name of the contact","example":"John"},"middleNames":{"type":"string","description":"The middle names of the contact, if any","example":"William"},"dateOfBirth":{"type":"string","description":"The date of birth of the contact, if known","example":"1980-01-01"},"flat":{"type":"string","description":"Flat number or name","example":"Flat 2B"},"property":{"type":"string","description":"Building or house number or name","example":"Mansion House"},"street":{"type":"string","description":"Street or road name","example":"Acacia Avenue"},"area":{"type":"string","description":"Area","example":"Morton Heights"},"cityCode":{"type":"string","description":"City code","example":25343},"cityDescription":{"type":"string","description":"The description of the city code","example":"Sheffield"},"countyCode":{"type":"string","description":"County code","example":"S.YORKSHIRE"},"countyDescription":{"type":"string","description":"The description of county code","example":"South Yorkshire"},"postCode":{"type":"string","description":"Postcode","example":"S13 4FH"},"countryCode":{"type":"string","description":"Country code","example":"ENG"},"countryDescription":{"type":"string","description":"The description of country code","example":"England"},"primaryAddress":{"type":"boolean","description":"True if this is the primary address otherwise false","example":true},"mailAddress":{"type":"boolean","description":"If true this address should be considered for sending mail to","example":true},"phoneType":{"type":"string","description":"Type of phone","example":"MOB"},"phoneTypeDescription":{"type":"string","description":"Description of the type of phone","example":"Mobile"},"phoneNumber":{"type":"string","description":"Phone number","example":"+1234567890"},"extNumber":{"type":"string","description":"Extension number","example":123}},"required":["contactId","dateOfBirth","firstName","lastName"]},"PaginatedResponsePrisonerContact":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PrisonerContact"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"PrisonerContact":{"type":"object","properties":{"contact":{"$ref":"#/components/schemas/Contact","description":"The details of a contact as an individual"},"relationship":{"$ref":"#/components/schemas/PrisonerContactRelationship","description":"The details of the relationship between the prisoner and this contact"}},"required":["contact","relationship"]},"PrisonerContactRelationship":{"type":"object","properties":{"relationshipTypeCode":{"type":"string","description":"Coded value indicating either a social or official contact. This is a coded value from the group code CONTACT_TYPE in reference data","example":"Social"},"relationshipTypeDescription":{"type":"string","description":"The description of the relationship type","example":"Friend"},"relationshipToPrisonerCode":{"type":"string","description":"The relationship to the prisoner. A code from SOCIAL_RELATIONSHIP or OFFICIAL_RELATIONSHIP reference data groups depending on the relationship type","example":"FRI"},"relationshipToPrisonerDescription":{"type":"string","description":"The description of the relationship to the prisoner","example":"Friend"},"approvedVisitor":{"type":"boolean","description":"Indicates whether the contact is an approved visitor","example":true},"nextOfKin":{"type":"boolean","description":"Is this contact the prisoner's next of kin?","example":false},"emergencyContact":{"type":"boolean","description":"Is this contact the prisoner's emergency contact?","example":true},"isRelationshipActive":{"type":"boolean","description":"Is this contact the prisoner's next of kin?","example":true},"currentTerm":{"type":"boolean","description":"Is this relationship active for the current booking?","example":true},"comments":{"type":"string","description":"Any additional comments","example":"Close family friend"}}},"CellLocation":{"type":"object","properties":{"prisonCode":{"type":"string"},"prisonName":{"type":"string"},"cell":{"type":"string"}}},"DataResponseCellLocation":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/CellLocation"}},"required":["data"]},"CaseNote":{"type":"object","properties":{"caseNoteId":{"type":"string","example":1234},"offenderIdentifier":{"type":"string","example":"A1234AA"},"type":{"type":"string","example":"KA"},"typeDescription":{"type":"string","example":"Key Worker"},"subType":{"type":"string","example":"KS"},"subTypeDescription":{"type":"string","example":"Key Worker Session"},"creationDateTime":{"type":"string","format":"date-time","description":"Date and Time of Case Note creation","example":"2023-09-05T10:15:41"},"occurrenceDateTime":{"type":"string","format":"date-time","description":"Date and Time of when case note contact with offender was made","example":"2023-09-05T10:15:41"},"text":{"type":"string","example":"This is some text"},"locationId":{"type":"string","example":"MDI"},"sensitive":{"type":"boolean"},"amendments":{"type":"array","description":"List of amendments to the case note","items":{"$ref":"#/components/schemas/CaseNoteAmendment"}}},"required":["amendments","sensitive"]},"CaseNoteAmendment":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the Case Note in uuid format"},"creationDateTime":{"type":"string","format":"date-time","description":"Date and Time of Case Note creation","example":"2023-09-05T10:15:41"},"additionalNoteText":{"type":"string","example":"Some Additional Text"}}},"PaginatedResponseCaseNote":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CaseNote"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"DataResponseListPersonalCareNeed":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PersonalCareNeed"}}},"required":["data"]},"PersonalCareNeed":{"type":"object","properties":{"problemType":{"type":"string","description":"Type of the problem","example":"MATSTAT"},"problemCode":{"type":"string","description":"Code of the problem","example":"ACCU9"},"problemStatus":{"type":"string","description":"Status of the problem","example":"ON"},"problemDescription":{"type":"string","description":"Detailed description of the problem","example":"No Disability"},"commentText":{"type":"string","description":"Additional comments or notes","example":"COMMENT"},"startDate":{"type":"string","description":"Start date for the problem","example":"2020-06-21"},"endDate":{"type":"string","description":"End date for the problem","example":null}}},"Address":{"type":"object","properties":{"country":{"type":"string","example":"England"},"county":{"type":"string","example":"Greater London"},"endDate":{"type":"string","format":"date","example":20},"locality":{"type":"string","example":"London Bridge"},"name":{"type":"string","example":"Name of the building of residence"},"noFixedAddress":{"type":"boolean","description":"Indicates whether the person has a permanent place of residence","example":true},"number":{"type":"string","example":1},"postcode":{"type":"string","example":"SE1 1TE"},"startDate":{"type":"string","format":"date","example":1},"street":{"type":"string","example":"O'Meara Street"},"town":{"type":"string","example":"London"},"types":{"type":"array","items":{"$ref":"#/components/schemas/Type"}},"notes":{"type":"string","example":"This is their partner's address."}},"required":["noFixedAddress","types"]},"DataResponseListAddress":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Address"}}},"required":["data"]},"DataResponseOffenderSearchResponse":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/OffenderSearchResponse"}},"required":["data"]},"OffenderSearchResponse":{"type":"object","properties":{"prisonerOffenderSearch":{"$ref":"#/components/schemas/Person"},"probationOffenderSearch":{"$ref":"#/components/schemas/PersonOnProbation"}}},"PersonOnProbation":{"type":"object","properties":{"person":{"$ref":"#/components/schemas/Person","writeOnly":true},"underActiveSupervision":{"type":"boolean"},"firstName":{"type":"string"},"lastName":{"type":"string"},"middleName":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"gender":{"type":"string"},"ethnicity":{"type":"string"},"aliases":{"type":"array","items":{"$ref":"#/components/schemas/Alias"}},"identifiers":{"$ref":"#/components/schemas/Identifiers"},"pncId":{"type":"string"},"hmppsId":{"type":"string"},"contactDetails":{"$ref":"#/components/schemas/ContactDetailsWithEmailAndPhone"},"currentRestriction":{"type":"boolean"},"restrictionMessage":{"type":"string"},"currentExclusion":{"type":"boolean"},"exclusionMessage":{"type":"string"}},"required":["aliases","firstName","identifiers","lastName","underActiveSupervision"]},"PaginatedResponseStatusInformation":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/StatusInformation"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"StatusInformation":{"type":"object","properties":{"code":{"type":"string","example":"ASFO"},"description":{"type":"string","example":"Serious Further Offence - Subject to SFO review/investigation"},"startDate":{"type":"string","example":"2022-01-01"},"reviewDate":{"type":"string","example":"2025-01-01"},"notes":{"type":"string","example":"This is a note"}}},"DataResponseLatestSentenceKeyDatesAndAdjustments":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LatestSentenceKeyDatesAndAdjustments"}},"required":["data"]},"HomeDetentionCurfewDate":{"type":"object","properties":{"actualDate":{"type":"string","format":"date"},"eligibilityCalculatedDate":{"type":"string","format":"date"},"eligibilityDate":{"type":"string","format":"date"},"eligibilityOverrideDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"}}},"LatestSentenceKeyDatesAndAdjustments":{"type":"object","properties":{"adjustments":{"$ref":"#/components/schemas/SentenceAdjustment"},"automaticRelease":{"$ref":"#/components/schemas/SentenceKeyDate"},"conditionalRelease":{"$ref":"#/components/schemas/SentenceKeyDate"},"dtoPostRecallRelease":{"$ref":"#/components/schemas/SentenceKeyDate"},"earlyTerm":{"$ref":"#/components/schemas/SentenceKeyDateWithCalculatedDate"},"homeDetentionCurfew":{"$ref":"#/components/schemas/HomeDetentionCurfewDate"},"lateTerm":{"$ref":"#/components/schemas/SentenceKeyDateWithCalculatedDate"},"licenceExpiry":{"$ref":"#/components/schemas/SentenceKeyDateWithCalculatedDate"},"midTerm":{"$ref":"#/components/schemas/SentenceKeyDateWithCalculatedDate"},"nonDto":{"$ref":"#/components/schemas/NonDtoDate"},"nonParole":{"$ref":"#/components/schemas/SentenceKeyDate"},"paroleEligibility":{"$ref":"#/components/schemas/SentenceKeyDateWithCalculatedDate"},"postRecallRelease":{"$ref":"#/components/schemas/SentenceKeyDate"},"release":{"$ref":"#/components/schemas/ReleaseDate"},"sentence":{"$ref":"#/components/schemas/SentenceDate"},"topupSupervision":{"$ref":"#/components/schemas/TopupSupervision"},"actualParoleDate":{"type":"string","format":"date","description":"the offender's actual parole date","example":"2023-03-01"},"earlyRemovalSchemeEligibilityDate":{"type":"string","format":"date","description":"the date on which offender will be eligible for early removal (under the Early Removal Scheme for foreign nationals).","example":"2023-03-01"},"releaseOnTemporaryLicenceDate":{"type":"string","format":"date","description":"the date on which offender will be released on temporary licence.","example":"2023-03-01"},"tariffDate":{"type":"string","format":"date","description":"date on which minimum term is reached for parole (indeterminate/life sentences).","example":"2023-03-01"},"tariffEarlyRemovalSchemeEligibilityDate":{"type":"string","format":"date","description":"tariffEarlyRemovalSchemeEligibilityDate.","example":"2023-03-01"}}},"NonDtoDate":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"Release date for non-DTO sentence (if applicable). This will be based on one of ARD, CRD, NPD or PRRD. NonDto stands for Non-Detention training order.","example":"2023-03-01"},"releaseDateType":{"type":"string","description":"\n      Indicates which type of non-DTO release date is the effective release date. One of 'ARD', 'CRD', 'NPD' or 'PRRD'. Possible values are:\n      `ARD`,\n      `CRD`,\n      `NPD`,\n      `PRRD`.\n    ","enum":["ARD","CRD","NPD","PRRD"],"example":"ARD"}}},"ReleaseDate":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"\n      Confirmed, actual, approved, provisional or calculated release date for offender, according to offender release date algorithm.\n\n      Algorithm\n      If there is a confirmed release date, the offender release date is the confirmed release date.\n      If there is no confirmed release date for the offender, the offender release date is either the actual parole date or the home detention curfew actual date.\n      If there is no confirmed release date, actual parole date or home detention curfew actual date for the offender, the release date is the later of the nonDtoReleaseDate or midTermDate value (if either or both are present)\n    ","example":"2023-03-01"},"confirmedDate":{"type":"string","format":"date","description":"Confirmed release date for offender.","example":"2023-03-01"}}},"SentenceAdjustment":{"type":"object","properties":{"additionalDaysAwarded":{"type":"number","description":"Number of additional days awarded","example":10},"unlawfullyAtLarge":{"type":"number","description":"Number unlawfully at large days","example":16},"lawfullyAtLarge":{"type":"number","description":"Number of lawfully at large days","example":11},"restoredAdditionalDaysAwarded":{"type":"number","description":"Number of restored additional days awarded","example":20},"specialRemission":{"type":"number","description":"Number of special remission days","example":14},"recallSentenceRemand":{"type":"number","description":"Number of recall sentence remand days","example":7},"recallSentenceTaggedBail":{"type":"number","description":"Number of recall sentence tagged bail days","example":19},"remand":{"type":"number","description":"Number of remand days","example":3},"taggedBail":{"type":"number","description":"Number of tagged bail days","example":13},"unusedRemand":{"type":"number","description":"Number of unused remand days","example":13}}},"SentenceDate":{"type":"object","properties":{"effectiveEndDate":{"type":"string","format":"date","description":"Effective sentence end date.","example":"2023-03-01"},"expiryCalculatedDate":{"type":"string","format":"date","description":"date on which sentence expired (as calculated by NOMIS).","example":"2023-03-01"},"expiryDate":{"type":"string","format":"date","description":"date on which sentence expires.","example":"2023-03-01"},"expiryOverrideDate":{"type":"string","format":"date","description":"date on which sentence expires (override).","example":"2023-03-01"},"startDate":{"type":"string","format":"date","description":"Sentence start date.","example":"2023-03-01"}}},"SentenceKeyDate":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"release date for offender","example":"2023-03-01"},"overrideDate":{"type":"string","format":"date","description":"release override date for offender","example":"2023-03-01"}}},"SentenceKeyDateWithCalculatedDate":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"release date for offender","example":"2023-03-01"},"overrideDate":{"type":"string","format":"date","description":"release override date for offender","example":"2023-03-01"},"calculatedDate":{"type":"string","format":"date","description":"release calculated date for offender","example":"2023-03-01"}}},"TopupSupervision":{"type":"object","properties":{"expiryCalculatedDate":{"type":"string","format":"date","description":"(calculated) - top-up supervision expiry date for offender.","example":"2023-03-01"},"expiryDate":{"type":"string","format":"date","description":"top-up supervision expiry date for offender.","example":"2023-03-01"},"expiryOverrideDate":{"type":"string","format":"date","description":"(override) - top-up supervision expiry date for offender.","example":"2023-03-01"},"startDate":{"type":"string","format":"date","description":"Top-up supervision start date for offender - calculated as licence end date + 1 day or releaseDate if licence end date not set.","example":"2023-03-01"}}},"DataResponseRisks":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Risks"}},"required":["data"]},"OtherRisks":{"type":"object","properties":{"escapeOrAbscond":{"type":"string","description":"\n      Risk of escape/abscond. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"YES"},"controlIssuesDisruptiveBehaviour":{"type":"string","description":"\n      Risk control issues/disruptive behaviour. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"DK"},"breachOfTrust":{"type":"string","description":"\n      Risk of breach of trust. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"NO"},"riskToOtherPrisoners":{"type":"string","description":"\n      Risk to other prisoners. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"YES"}}},"Risk":{"type":"object","properties":{"risk":{"type":"string","description":"\n      Presence of risk. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"YES"},"previous":{"type":"string","description":"\n      Previous concerns. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"NO"},"previousConcernsText":{"type":"string","description":"Supporting comments for any previous concerns.","example":"Risk of self harm concerns due to ..."},"current":{"type":"string","description":"\n      Current concerns. Possible values are:\n      `YES`,\n      `NO`,\n      `DK`,\n      `NA`\n    ","enum":["YES","NO","DK","NA"],"example":"YES"},"currentConcernsText":{"type":"string","description":"Supporting comments for any current concerns.","example":"Risk of self harm concerns due to ..."}}},"RiskSummary":{"type":"object","properties":{"whoIsAtRisk":{"type":"string","description":"Who is at risk","example":"X, Y and Z are at risk"},"natureOfRisk":{"type":"string","description":"What is the nature of the risk","example":"The nature of the risk is X"},"riskImminence":{"type":"string","description":"When is the risk likely to be greatest. Consider the timescale and indicate whether risk is immediate or not. Consider the risks in custody as well as on release.","example":"The risk is imminent and more probable in X situation"},"riskIncreaseFactors":{"type":"string","description":"What circumstances are likely to increase risk. Describe factors, actions, events which might increase level of risk, now and in the future.","example":"If offender in situation X the risk can be higher"},"riskMitigationFactors":{"type":"string","description":"What factors are likely to reduce the risk. Describe factors, actions, and events which may reduce or contain the level of risk. What has previously stopped them?","example":"Giving offender therapy in X will reduce the risk"},"overallRiskLevel":{"type":"string","description":"The overall risk level","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"],"example":"HIGH"},"riskInCommunity":{"type":"object","additionalProperties":{"type":"string"},"description":"Assess the risk of serious harm the offender poses on the basis that they could be released imminently back into the community. This field is a map which can return all or some of the properties given.","example":{"children":"HIGH","public":"MEDIUM","knownAdult":"VERY_HIGH","staff":"HIGH","prisoners":"LOW"}},"riskInCustody":{"type":"object","additionalProperties":{"type":"string"},"description":"Assess both the risk of serious harm the offender presents now, in custody, and the risk they could present to others whilst in a custodial setting. This field is a map which can return all or some of the properties given.","example":{"children":"HIGH","public":"MEDIUM","knownAdult":"VERY_HIGH","staff":"HIGH","prisoners":"LOW"}}}},"RiskToSelf":{"type":"object","properties":{"suicide":{"$ref":"#/components/schemas/Risk"},"selfHarm":{"$ref":"#/components/schemas/Risk"},"custody":{"$ref":"#/components/schemas/Risk"},"hostelSetting":{"$ref":"#/components/schemas/Risk"},"vulnerability":{"$ref":"#/components/schemas/Risk"}},"required":["custody","hostelSetting","selfHarm","suicide","vulnerability"]},"Risks":{"type":"object","properties":{"assessedOn":{"type":"string","format":"date-time","description":"Date of risk assessment","example":"2023-09-05T10:15:41"},"riskToSelf":{"$ref":"#/components/schemas/RiskToSelf"},"otherRisks":{"$ref":"#/components/schemas/OtherRisks"},"summary":{"$ref":"#/components/schemas/RiskSummary"}},"required":["otherRisks","riskToSelf","summary"]},"GeneralPredictor":{"type":"object","properties":{"scoreLevel":{"type":"string","description":"\n    Indicator for general prediction. Possible values are:\n    `LOW`,\n    `MEDIUM`,\n    `HIGH`,\n    `VERY_HIGH`,\n    `NOT_APPLICABLE`\n    ","enum":["LOW","MEDIUM","HIGH","VERY_HIGH","NOT_APPLICABLE"],"example":"VERY_HIGH"}}},"GroupReconviction":{"type":"object","properties":{"scoreLevel":{"type":"string","description":"\n      Indicator for risk of group reconviction. Possible values are:\n      `LOW`,\n      `MEDIUM`,\n      `HIGH`,\n      `VERY_HIGH`,\n      `NOT_APPLICABLE`\n    ","enum":["LOW","MEDIUM","HIGH","VERY_HIGH","NOT_APPLICABLE"],"example":"LOW"}}},"PaginatedResponseRiskPredictorScore":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskPredictorScore"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"RiskOfSeriousRecidivism":{"type":"object","properties":{"scoreLevel":{"type":"string","description":"\n        Indicator for risk of serious recidivism. Possible values are:\n        `LOW`,\n        `MEDIUM`,\n        `HIGH`,\n        `VERY_HIGH`,\n        `NOT_APPLICABLE`\n      ","enum":["LOW","MEDIUM","HIGH","VERY_HIGH","NOT_APPLICABLE"],"example":"MEDIUM"}}},"RiskPredictorScore":{"type":"object","properties":{"completedDate":{"type":"string","format":"date-time","description":"Risk scores calculation completion date","example":"2023-09-05T10:15:41"},"assessmentStatus":{"type":"string","description":"\n      Whether the risk score calculation is complete. Possible values are:\n      `COMPLETE`,\n      `LOCKED_INCOMPLETE`\n    ","enum":["COMPLETED","LOCKED_INCOMPLETE"],"example":"COMPLETED"},"generalPredictor":{"$ref":"#/components/schemas/GeneralPredictor"},"violencePredictor":{"$ref":"#/components/schemas/ViolencePredictor"},"groupReconviction":{"$ref":"#/components/schemas/GroupReconviction"},"riskOfSeriousRecidivism":{"$ref":"#/components/schemas/RiskOfSeriousRecidivism"},"sexualPredictor":{"$ref":"#/components/schemas/SexualPredictor"}},"required":["generalPredictor","groupReconviction","riskOfSeriousRecidivism","sexualPredictor","violencePredictor"]},"SexualPredictor":{"type":"object","properties":{"indecentScoreLevel":{"type":"string","description":"\n      Indicator for risk of sexual indecency. Possible values are:\n      `LOW`,\n      `MEDIUM`,\n      `HIGH`,\n      `VERY_HIGH`,\n      `NOT_APPLICABLE`,\n    ","enum":["LOW","MEDIUM","HIGH","VERY_HIGH","NOT_APPLICABLE"],"example":"MEDIUM"},"contactScoreLevel":{"type":"string","description":"\n      Indicator for risk of sexual contact. Possible values are:\n      `LOW`,\n      `MEDIUM`,\n      `HIGH`,\n      `VERY_HIGH`,\n      `NOT_APPLICABLE`,\n    ","enum":["LOW","MEDIUM","HIGH","VERY_HIGH","NOT_APPLICABLE"],"example":"MEDIUM"}}},"ViolencePredictor":{"type":"object","properties":{"scoreLevel":{"type":"string","description":"\n    Indicator for risk of violence. Possible values are:\n    `LOW`,\n    `MEDIUM`,\n    `HIGH`,\n    `VERY_HIGH`,\n    `NOT_APPLICABLE`\n    ","enum":["LOW","MEDIUM","HIGH","VERY_HIGH","NOT_APPLICABLE"],"example":"MEDIUM"}}},"DataResponseMappaDetail":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/MappaDetail"}},"required":["data"]},"MappaDetail":{"type":"object","properties":{"level":{"type":"number","example":1},"levelDescription":{"type":"string","example":"Description of M1"},"category":{"type":"number","example":2},"categoryDescription":{"type":"string","example":"Description of M2"},"startDate":{"type":"string","example":"2024-02-07"},"reviewDate":{"type":"string","example":"2024-02-07"},"notes":{"type":"string","example":"Mappa Detail for X00001"}}},"DynamicRisk":{"type":"object","properties":{"code":{"type":"string","example":"RCCO"},"description":{"type":"string","example":"Child Concerns - Safeguarding concerns where a child is at risk from the offender"},"startDate":{"type":"string","example":"2022-01-01"},"reviewDate":{"type":"string","example":"2025-01-01"},"notes":{"type":"string","example":"This is a note"}}},"PaginatedResponseDynamicRisk":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/DynamicRisk"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"PaginatedResponseRiskManagementPlan":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskManagementPlan"}},"pagination":{"$ref":"#/components/schemas/Pagination"}},"required":["data","pagination"]},"RiskManagementPlan":{"type":"object","properties":{"assessmentId":{"type":"string","description":"The unique ID of the risk management plan","example":123456},"dateCompleted":{"type":"string","description":"The date that the risk management plan was completed","example":"2024-05-04T01:04:20"},"initiationDate":{"type":"string","description":"The date of plan initiation","example":"2024-05-04T01:04:20"},"assessmentStatus":{"type":"string","description":"The status of the plan","example":"COMPLETE"},"assessmentType":{"type":"string","description":"The type of assessment"},"keyInformationCurrentSituation":{"type":"string","description":"Key information about the current situation of the subject being assessed"},"furtherConsiderationsCurrentSituation":{"type":"string","description":"Further considerations about the situation of the subject being assessed"},"supervision":{"type":"string","description":"Who they see, when and why, any support they get from their community, and how well they're desisting from problematic behaviour"},"monitoringAndControl":{"type":"string","description":"Information on restrictions in place to prevent reoffending, what steps have been taken to monitor potential reoffending, including license conditions, community order requirements, PPM restrictions and such."},"interventionsAndTreatment":{"type":"string","description":"Interventions delivered to develop controls and protective factors to reduce risk of reoffending, including practical support, requirements to support interventions and details of who and where these interventions will be administered."},"victimSafetyPlanning":{"type":"string","description":"Restrictions in place to specifically protect victims of, adults known to, and children potentially at risk from the offender."},"contingencyPlans":{"type":"string","description":"Future plans in the form \"If X happens, we will do Y....\" for if parts of the risk management plan break down or requirements or restrictions are breached by the offender."},"latestSignLockDate":{"type":"string","description":"An assessment is considered 'Signed and locked' once it is signed by the assessor, making the plan read-only. This is the date the plan has been signed by the assessor.","example":"2024-05-04T01:04:20"},"latestCompleteDate":{"type":"string","description":"Once a countersignature has been applied to the plan, the plan is considered complete. This is the date the plan has been countersigned.","example":"2024-05-04T01:04:20"}},"required":["assessmentId","assessmentStatus","assessmentType"]},"DataResponseNeeds":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Needs"}},"required":["data"]},"Need":{"type":"object","properties":{"type":{"type":"string","description":"The type of need","example":"DRUG_MISUSE"},"riskOfHarm":{"type":"boolean","description":"Risk of harm"},"riskOfReoffending":{"type":"boolean","description":"Risk of reoffending"},"severity":{"type":"string","description":"Severity of need","example":"NO_NEED"}}},"Needs":{"type":"object","properties":{"assessedOn":{"type":"string","format":"date-time","description":"Needs assessment completion date","example":"2023-09-05T10:15:41"},"identifiedNeeds":{"type":"array","items":{"$ref":"#/components/schemas/Need"}},"notIdentifiedNeeds":{"type":"array","items":{"$ref":"#/components/schemas/Need"}},"unansweredNeeds":{"type":"array","items":{"$ref":"#/components/schemas/Need"}}},"required":["identifiedNeeds","notIdentifiedNeeds","unansweredNeeds"]},"DataResponsePersonLicences":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PersonLicences"}},"required":["data"]},"Licence":{"type":"object","properties":{"status":{"type":"string"},"typeCode":{"type":"string"},"createdDate":{"type":"string"},"approvedDate":{"type":"string"},"updatedDate":{"type":"string"},"conditions":{"type":"array","items":{"$ref":"#/components/schemas/LicenceCondition"}}},"required":["conditions"]},"LicenceCondition":{"type":"object","properties":{"type":{"type":"string"},"code":{"type":"string"},"category":{"type":"string"},"condition":{"type":"string"}}},"PersonLicences":{"type":"object","properties":{"hmppsId":{"type":"string","example":"2008/0545166T"},"offenderNumber":{"type":"string","example":"Z1234ZZ"},"licences":{"type":"array","example":[{"status":"IN_PROGRESS","typeCode":"AP","createdDate":"2015-09-23","approvedDate":"2015-09-24","updatedDate":"2015-10-23","conditions":[{"type":"Standard","code":"5a105297-dce1-4d18-b9ea-4195b46b7594","category":"Residence at a specific place","condition":"You must reside at an approved address"},{"type":"Custom","code":"b457e9c3-68c6-4f5e-9bd8-c36c5b7e70fb","category":"Contact Restrictions","condition":"You must not contact the victim"}]},{"status":"SUBMITTED","typeCode":"PSS","createdDate":"2016-01-15","approvedDate":"2016-01-16","updatedDate":"2016-02-15","conditions":[{"type":"Standard","code":"5a105297-dce1-4d18-b9ea-4195b46b7594","category":"Residence at a specific place","condition":"You must reside at an approved address"}]},{"status":"APPROVED","typeCode":"PSS","createdDate":"2016-01-15","approvedDate":"2016-01-16","updatedDate":"2016-02-15","conditions":[{"type":"Standard","code":"5a105297-dce1-4d18-b9ea-4195b46b7594","category":"Residence at a specific place","condition":"You must reside at an approved address"}]},{"status":"ACTIVE","typeCode":"AP","createdDate":"2018-05-20","approvedDate":"2018-05-21","updatedDate":"2018-06-20","conditions":[{"type":"Custom","code":"c97f33e3-1e50-4b28-8f71-5de3e2fbbf79","category":"Travel Restrictions","condition":"You must not leave the country without permission"}]},{"status":"VARIATION_IN_PROGRESS","typeCode":"AP","createdDate":"2019-07-01","approvedDate":"2019-07-02","updatedDate":"2019-08-01","conditions":[{"type":"Rehabilitation","code":"a5371dd7-7f54-42b9-9c3b-35f9e8f6f1e9","category":"Rehabilitation Program","condition":"You must participate in a rehabilitation program"}]},{"status":"VARIATION_SUBMITTED","typeCode":"AP_PSS","createdDate":"2020-09-12","approvedDate":"2020-09-13","updatedDate":"2020-10-12","conditions":[{"type":"Monitoring","code":"e4a8b9cf-4a50-44a2-8a0c-5f38d2fae6f9","category":"Electronic Monitoring","condition":"You must comply with electronic monitoring"}]},{"status":"VARIATION_APPROVED","typeCode":"AP_PSS","createdDate":"2021-11-23","approvedDate":"2021-11-24","updatedDate":"2021-12-23","conditions":[{"type":"Substance Abuse","code":"d4b8b1e8-9e4e-4f6a-a2df-b41e8f8e8e8e","category":"Alcohol Restrictions","condition":"You must not consume alcohol"}]},{"status":"VARIATION_REJECTED","typeCode":"PSS","createdDate":"2022-01-01","approvedDate":"2022-01-02","updatedDate":"2022-02-01","conditions":[{"type":"Association","code":"f9e8f1c8-2f4a-4a6a-a1de-5e7e9f7d9e8f","category":"Contact Restrictions","condition":"You must not associate with known criminals"}]}],"items":{"$ref":"#/components/schemas/Licence"}}},"required":["hmppsId","licences"]},"Response":{"type":"object","properties":{"data":{},"errors":{"type":"array","items":{"$ref":"#/components/schemas/UpstreamApiError"}}},"required":["data","errors"]},"DataResponseNomisNumber":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/NomisNumber"}},"required":["data"]},"NomisNumber":{"type":"object","properties":{"nomisNumber":{"type":"string"}}},"DataResponseHmppsId":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/HmppsId"}},"required":["data"]},"HmppsId":{"type":"object","properties":{"hmppsId":{"type":"string"}}},"CaseDetail":{"type":"object","properties":{"nomsId":{"type":"string"},"name":{"$ref":"#/components/schemas/Name"},"dateOfBirth":{"type":"string"},"gender":{"type":"string"},"courtAppearance":{"$ref":"#/components/schemas/CourtAppearance"},"sentence":{"$ref":"#/components/schemas/CaseSentence"},"responsibleProvider":{"$ref":"#/components/schemas/ResponsibleProvider"},"ogrsScore":{"type":"integer","format":"int64"},"rsrScore":{"type":"number","format":"double"},"age":{"type":"integer","format":"int64"},"ageAtRelease":{"type":"integer","format":"int64"}}},"CaseSentence":{"type":"object","properties":{"date":{"type":"string","deprecated":true,"description":"This field is depreciated and will be removed from the endpoint /v1/epf/person-details/{hmppsId}/{eventNumber} response soon."},"sentencingCourt":{"$ref":"#/components/schemas/SentencingCourt","deprecated":true,"description":"This field is depreciated and will be removed from the endpoint /v1/epf/person-details/{hmppsId}/{eventNumber} response soon."},"releaseDate":{"type":"string","deprecated":true,"description":"This field is depreciated and will be removed from the endpoint /v1/epf/person-details/{hmppsId}/{eventNumber} response soon."},"expectedReleaseDate":{"type":"string"}}},"CourtAppearance":{"type":"object","properties":{"date":{"type":"string"},"court":{"$ref":"#/components/schemas/CourtDetails"}}},"CourtDetails":{"type":"object","properties":{"name":{"type":"string","description":"The name of the court","example":"Manchester Crown Court"}}},"Name":{"type":"object","properties":{"forename":{"type":"string"},"middleName":{"type":"string"},"surname":{"type":"string"}}},"ResponseCaseDetail":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/CaseDetail"},"errors":{"type":"array","items":{"$ref":"#/components/schemas/UpstreamApiError"}}},"required":["data","errors"]},"ResponsibleProvider":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"}}},"SentencingCourt":{"type":"object","properties":{"name":{"type":"string"}}},"ContactAddress":{"type":"object","properties":{"addressType":{"type":"string","description":"The type of the address","example":"HOME"},"addressTypeDescription":{"type":"string","description":"The description of the address type"},"primaryAddress":{"type":"boolean","description":"True if this is the primary address otherwise false","example":true},"flat":{"type":"string","description":"Flat number or name","example":"Flat 2B"},"property":{"type":"string","description":"Building or house number or name","example":"Mansion House"},"street":{"type":"string","description":"Street or road name","example":"Acacia Avenue"},"area":{"type":"string","description":"Area","example":"Morton Heights"},"cityCode":{"type":"string","description":"City code","example":25343},"cityDescription":{"type":"string","description":"The description of the city code","example":"Sheffield"},"countyCode":{"type":"string","description":"County code","example":"S.YORKSHIRE"},"countyDescription":{"type":"string","description":"The description of county code","example":"South Yorkshire"},"postcode":{"type":"string","description":"Postcode","example":"S13 4FH"},"countryCode":{"type":"string","description":"Country code","example":"ENG"},"countryDescription":{"type":"string","description":"The description of country code","example":"England"},"verified":{"type":"boolean","description":"Whether the address has been verified by postcode lookup","example":false},"verifiedBy":{"type":"string","description":"Which username ran the postcode lookup check","example":"NJKG44D"},"verifiedTime":{"type":"string","description":"The timestamp of when the postcode lookup was done","example":"2024-01-01T00:00:00Z"},"mailFlag":{"type":"boolean","description":"Flag to indicate whether mail is allowed to be sent to this address","example":false},"startDate":{"type":"string","description":"The start date when this address is to be considered active from","example":"2024-01-01"},"endDate":{"type":"string","description":"The end date when this address is to be considered active from","example":"2024-01-01"},"noFixedAddress":{"type":"boolean","description":"Flag to indicate whether this address indicates no fixed address","example":false},"comments":{"type":"string","description":"Any additional information or comments about the address","example":"Some additional information"},"phoneNumbers":{"type":"array","description":"Phone numbers that are related to this address","items":{"$ref":"#/components/schemas/ContactPhoneNumber"}},"createdBy":{"type":"string","description":"The id of the user who created the contact","example":"JD000001"},"createdTime":{"type":"string","description":"The timestamp of when the contact was created","example":"2024-01-01T00:00:00Z"},"updatedBy":{"type":"string","description":"The id of the user who created the contact address","example":"JD000001"},"updatedTime":{"type":"string","description":"The timestamp of when the contact address was last updated","example":"2024-01-01T00:00:00Z"}},"required":["createdBy","createdTime","mailFlag","noFixedAddress","phoneNumbers","primaryAddress","verified"]},"ContactEmailAddress":{"type":"object","properties":{"emailAddress":{"type":"string","description":"Email address","example":"test@example.com"}},"required":["emailAddress"]},"ContactPhoneNumber":{"type":"object","properties":{"phoneType":{"type":"string","description":"Type of phone","example":"MOB"},"phoneTypeDescription":{"type":"string","description":"Description of the type of phone","example":"Mobile"},"phoneNumber":{"type":"string","description":"Phone number","example":"+1234567890"},"extNumber":{"type":"string","description":"Extension number","example":123}},"required":["phoneNumber","phoneType","phoneTypeDescription"]},"DetailedContact":{"type":"object","properties":{"contactId":{"type":"integer","format":"int64","description":"The ID of the contact","example":123456},"titleCode":{"type":"string","description":"The title code for the contact","example":"MR"},"titleDescription":{"type":"string","description":"The description of the title code, if present","example":"Mr"},"lastName":{"type":"string","description":"The last name of the contact","example":"Doe"},"firstName":{"type":"string","description":"The first name of the contact","example":"John"},"middleNames":{"type":"string","description":"The middle names of the contact, if any","example":"William"},"dateOfBirth":{"type":"string","description":"The date of birth of the contact, if known","example":"1980-01-01"},"isStaff":{"type":"boolean","description":"Whether the contact is a staff member","example":false},"deceasedDate":{"type":"string","description":"The date the contact deceased, if known","example":"1980-01-01"},"languageCode":{"type":"string","description":"The NOMIS code for the contacts language","example":"ENG"},"languageDescription":{"type":"string","description":"The description of the language code","example":"English"},"interpreterRequired":{"type":"boolean","description":"Whether an interpreter is required for this contact","example":true},"addresses":{"type":"array","description":"All addresses for the contact","items":{"$ref":"#/components/schemas/ContactAddress"}},"phoneNumbers":{"type":"array","description":"All phone numbers for the contact","items":{"$ref":"#/components/schemas/ContactPhoneNumber"}},"emailAddresses":{"type":"array","description":"All email addresses for the contact","items":{"$ref":"#/components/schemas/ContactEmailAddress"}},"genderCode":{"type":"string","description":"The NOMIS code for the contacts gender. See reference data with group code 'GENDER'"},"genderDescription":{"type":"string","description":"The description of gender code. See reference data with group code 'GENDER'"}},"required":["addresses","contactId","emailAddresses","firstName","genderCode","genderDescription","interpreterRequired","isStaff","lastName","phoneNumbers"]},"ResponseDetailedContact":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/DetailedContact"},"errors":{"type":"array","items":{"$ref":"#/components/schemas/UpstreamApiError"}}},"required":["data","errors"]},"DlqMessage":{"type":"object","properties":{"body":{"type":"object","additionalProperties":{}},"messageId":{"type":"string"}},"required":["body","messageId"]},"GetDlqResult":{"type":"object","properties":{"messagesFoundCount":{"type":"integer","format":"int32"},"messagesReturnedCount":{"type":"integer","format":"int32"},"messages":{"type":"array","items":{"$ref":"#/components/schemas/DlqMessage"}}},"required":["messages","messagesFoundCount","messagesReturnedCount"]},"BadRequest":{"properties":{"status":{"example":400},"userMessage":{"example":"Validation failure: No query parameters specified."},"developerMessage":{"example":"No query parameters specified."}}},"PersonNotFound":{"description":"Failed to find a person with the provided HMPPS ID.","properties":{"status":{"example":404},"userMessage":{"example":"404 Not found error: Could not find person with HMPPS id: 2003/0011991D."},"developerMessage":{"example":"Could not find person with HMPPS id: 2003/0011991D."}}},"PrisonNotFound":{"description":"Failed to find a prison with the provided prison ID.","properties":{"status":{"example":404},"userMessage":{"example":"404 Not found error: Could not find prison with prison ID: MDI."},"developerMessage":{"example":"Could not find prison with prison with ID: MDI."}}},"InternalServerError":{"description":"An upstream service was not responding, so we cannot verify the accuracy of any data we did get.","properties":{"status":{"example":500},"userMessage":{"example":"Internal Server Error"},"developerMessage":{"example":"Unable to complete request as an upstream service is not responding."}}},"TransactionConflict":{"description":"Duplicate post - The client_unique_ref has been used before","properties":{"status":{"example":409},"userMessage":{"example":"Conflict"},"developerMessage":{"example":"Duplicate post - The client_unique_ref has been used before"}}},"ForbiddenResponse":{"description":"Forbidden to complete action by upstream service","properties":{"status":{"example":403},"userMessage":{"example":"Forbidden to complete action by upstream service"},"developerMessage":{"example":"Forbidden to complete action by upstream service"}}}},"securitySchemes":{"dn":{"type":"apiKey","description":"Example: O=test,CN=automated-test-client","name":"subject-distinguished-name","in":"header"}}}}